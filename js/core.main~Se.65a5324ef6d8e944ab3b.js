"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["main~Se"],{

/***/ "./Services/index.js":
/*!***************************!*\
  !*** ./Services/index.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"requestLogout\": () => (/* reexport safe */ _logout__WEBPACK_IMPORTED_MODULE_0__.requestLogout),\n/* harmony export */   \"BinarySocketGeneral\": () => (/* reexport safe */ _socket_general__WEBPACK_IMPORTED_MODULE_1__.default),\n/* harmony export */   \"WS\": () => (/* reexport safe */ _ws_methods__WEBPACK_IMPORTED_MODULE_2__.default)\n/* harmony export */ });\n/* harmony import */ var _logout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logout */ \"./Services/logout.js\");\n/* harmony import */ var _socket_general__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./socket-general */ \"./Services/socket-general.js\");\n/* harmony import */ var _ws_methods__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ws-methods */ \"./Services/ws-methods.js\");\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TZXJ2aWNlcy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1NlcnZpY2VzL2luZGV4LmpzPzdjZDkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9sb2dvdXQnO1xuZXhwb3J0IEJpbmFyeVNvY2tldEdlbmVyYWwgZnJvbSAnLi9zb2NrZXQtZ2VuZXJhbCc7XG5leHBvcnQgV1MgZnJvbSAnLi93cy1tZXRob2RzJztcbiJdLCJuYW1lcyI6WyJCaW5hcnlTb2NrZXRHZW5lcmFsIiwiV1MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Services/index.js\n");

/***/ }),

/***/ "./Services/logout.js":
/*!****************************!*\
  !*** ./Services/logout.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"requestLogout\": () => (/* binding */ requestLogout)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _common_base_socket_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! _common/base/socket_cache */ \"./_common/base/socket_cache.js\");\n/* harmony import */ var _common_base_socket_cache__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_common_base_socket_cache__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ws_methods__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ws-methods */ \"./Services/ws-methods.js\");\n\n\n\nvar requestLogout = function requestLogout() {\n  return _ws_methods__WEBPACK_IMPORTED_MODULE_2__.default.logout().then(doLogout);\n};\n\nfunction endChat() {\n  var _window$LC_API, _window$LC_API$close_;\n\n  (_window$LC_API = window.LC_API) === null || _window$LC_API === void 0 ? void 0 : (_window$LC_API$close_ = _window$LC_API.close_chat) === null || _window$LC_API$close_ === void 0 ? void 0 : _window$LC_API$close_.call(_window$LC_API);\n}\n\nvar doLogout = function doLogout(response) {\n  if (response.logout !== 1) return undefined;\n  (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.removeCookies)('affiliate_token', 'affiliate_tracking', 'onfido_token');\n  _common_base_socket_cache__WEBPACK_IMPORTED_MODULE_1___default().clear();\n  sessionStorage.clear();\n  endChat();\n  return response;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TZXJ2aWNlcy9sb2dvdXQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TZXJ2aWNlcy9sb2dvdXQuanM/MjU4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW1vdmVDb29raWVzIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgU29ja2V0Q2FjaGUgZnJvbSAnX2NvbW1vbi9iYXNlL3NvY2tldF9jYWNoZSc7XG5pbXBvcnQgV1MgZnJvbSAnLi93cy1tZXRob2RzJztcblxuZXhwb3J0IGNvbnN0IHJlcXVlc3RMb2dvdXQgPSAoKSA9PiBXUy5sb2dvdXQoKS50aGVuKGRvTG9nb3V0KTtcblxuZnVuY3Rpb24gZW5kQ2hhdCgpIHtcbiAgICB3aW5kb3cuTENfQVBJPy5jbG9zZV9jaGF0Py4oKTtcbn1cblxuY29uc3QgZG9Mb2dvdXQgPSByZXNwb25zZSA9PiB7XG4gICAgaWYgKHJlc3BvbnNlLmxvZ291dCAhPT0gMSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZW1vdmVDb29raWVzKCdhZmZpbGlhdGVfdG9rZW4nLCAnYWZmaWxpYXRlX3RyYWNraW5nJywgJ29uZmlkb190b2tlbicpO1xuICAgIFNvY2tldENhY2hlLmNsZWFyKCk7XG4gICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcbiAgICBlbmRDaGF0KCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbiJdLCJuYW1lcyI6WyJyZW1vdmVDb29raWVzIiwiU29ja2V0Q2FjaGUiLCJXUyIsInJlcXVlc3RMb2dvdXQiLCJsb2dvdXQiLCJ0aGVuIiwiZG9Mb2dvdXQiLCJlbmRDaGF0Iiwid2luZG93IiwiTENfQVBJIiwiY2xvc2VfY2hhdCIsInJlc3BvbnNlIiwidW5kZWZpbmVkIiwiY2xlYXIiLCJzZXNzaW9uU3RvcmFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Services/logout.js\n");

/***/ }),

/***/ "./Services/network-monitor.js":
/*!*************************************!*\
  !*** ./Services/network-monitor.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _common_base_network_monitor_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! _common/base/network_monitor_base */ \"./_common/base/network_monitor_base.js\");\n/* harmony import */ var _common_base_network_monitor_base__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_common_base_network_monitor_base__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index */ \"./Services/index.js\");\n\n // eslint-disable-line import/order\n\n\nvar common_store;\n\nvar NetworkMonitor = function () {\n  var init = function init(store) {\n    _common_base_network_monitor_base__WEBPACK_IMPORTED_MODULE_1___default().init(_index__WEBPACK_IMPORTED_MODULE_2__.BinarySocketGeneral.init(store), updateStore, store.client);\n    common_store = store.common;\n  };\n\n  var updateStore = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.action)(function (status, is_online) {\n    if (common_store) {\n      common_store.setNetworkStatus(status, is_online);\n    }\n  });\n  return {\n    init: init\n  };\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NetworkMonitor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TZXJ2aWNlcy9uZXR3b3JrLW1vbml0b3IuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOztBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBR0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TZXJ2aWNlcy9uZXR3b3JrLW1vbml0b3IuanM/MDY5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24gfSBmcm9tICdtb2J4JztcbmltcG9ydCBOZXR3b3JrTW9uaXRvckJhc2UgZnJvbSAnX2NvbW1vbi9iYXNlL25ldHdvcmtfbW9uaXRvcl9iYXNlJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvb3JkZXJcbmltcG9ydCB7IEJpbmFyeVNvY2tldEdlbmVyYWwgfSBmcm9tICcuL2luZGV4JztcblxubGV0IGNvbW1vbl9zdG9yZTtcblxuY29uc3QgTmV0d29ya01vbml0b3IgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGluaXQgPSBzdG9yZSA9PiB7XG4gICAgICAgIE5ldHdvcmtNb25pdG9yQmFzZS5pbml0KEJpbmFyeVNvY2tldEdlbmVyYWwuaW5pdChzdG9yZSksIHVwZGF0ZVN0b3JlLCBzdG9yZS5jbGllbnQpO1xuICAgICAgICBjb21tb25fc3RvcmUgPSBzdG9yZS5jb21tb247XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZVN0b3JlID0gYWN0aW9uKChzdGF0dXMsIGlzX29ubGluZSkgPT4ge1xuICAgICAgICBpZiAoY29tbW9uX3N0b3JlKSB7XG4gICAgICAgICAgICBjb21tb25fc3RvcmUuc2V0TmV0d29ya1N0YXR1cyhzdGF0dXMsIGlzX29ubGluZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQsXG4gICAgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IE5ldHdvcmtNb25pdG9yO1xuIl0sIm5hbWVzIjpbImFjdGlvbiIsIk5ldHdvcmtNb25pdG9yQmFzZSIsIkJpbmFyeVNvY2tldEdlbmVyYWwiLCJjb21tb25fc3RvcmUiLCJOZXR3b3JrTW9uaXRvciIsImluaXQiLCJzdG9yZSIsInVwZGF0ZVN0b3JlIiwiY2xpZW50IiwiY29tbW9uIiwic3RhdHVzIiwiaXNfb25saW5lIiwic2V0TmV0d29ya1N0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Services/network-monitor.js\n");

/***/ }),

/***/ "./Services/socket-general.js":
/*!************************************!*\
  !*** ./Services/socket-general.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ \"../../../node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var _common_base_server_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! _common/base/server_time */ \"./_common/base/server_time.js\");\n/* harmony import */ var _common_base_server_time__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_common_base_server_time__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! _common/base/socket_base */ \"./_common/base/socket_base.js\");\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_common_base_socket_base__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _ws_methods__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ws-methods */ \"./Services/ws-methods.js\");\n\n\n\n\n\n\n\nvar client_store, common_store, gtm_store; // TODO: update commented statements to the corresponding functions from app\n\nvar BinarySocketGeneral = function () {\n  var session_duration_limit, session_start_time, session_timeout;\n\n  var onDisconnect = function onDisconnect() {\n    common_store.setIsSocketOpened(false);\n  };\n\n  var onOpen = function onOpen(is_ready) {\n    if (is_ready) {\n      if (!client_store.is_valid_login) {\n        client_store.logout();\n        return;\n      }\n\n      _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.subscribeWebsiteStatus(ResponseHandlers.websiteStatus);\n      _common_base_server_time__WEBPACK_IMPORTED_MODULE_4___default().init(function () {\n        return common_store.setServerTime(_common_base_server_time__WEBPACK_IMPORTED_MODULE_4___default().get());\n      });\n      common_store.setIsSocketOpened(true);\n    }\n  };\n\n  var onMessage = function onMessage(response) {\n    handleError(response); // Header.hideNotification('CONNECTION_ERROR');\n\n    switch (response.msg_type) {\n      case 'authorize':\n        if (response.error) {\n          var is_active_tab = sessionStorage.getItem('active_tab') === '1';\n\n          if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getPropertyValue)(response, ['error', 'code']) === 'SelfExclusion' && is_active_tab) {\n            sessionStorage.removeItem('active_tab'); // Dialog.alert({ id: 'authorize_error_alert', message: response.error.message });\n          }\n\n          client_store.logout();\n        } else if (!/authorize/.test(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.State.get('skip_response'))) {\n          // is_populating_account_list is a check to avoid logout on the first logged-in session\n          // In any other case, if the response loginid does not match the store's loginid, user must be logged out\n          if (response.authorize.loginid !== client_store.loginid && !client_store.is_populating_account_list && !client_store.is_switching) {\n            client_store.logout();\n          } else if (response.authorize.loginid === client_store.loginid) {\n            // All other cases continue with the loginid and authorize the profile\n            authorizeAccount(response);\n          }\n        }\n\n        break;\n\n      case 'landing_company':\n        // Header.upgradeMessageVisibility();\n        break;\n\n      case 'get_self_exclusion':\n        setSessionDurationLimit(response);\n        break;\n\n      case 'get_settings':\n        if (response.get_settings) {\n          setResidence(response.get_settings.country_code);\n          client_store.setEmail(response.get_settings.email);\n          client_store.setAccountSettings(response.get_settings);\n          gtm_store.eventHandler(response.get_settings);\n        }\n\n        break;\n\n      case 'set_account_currency':\n        _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.forgetAll('balance').then(subscribeBalances);\n        break;\n\n      case 'get_account_status':\n        client_store.setAccountStatus(response.get_account_status);\n        break;\n\n      case 'payout_currencies':\n        client_store.responsePayoutCurrencies(response.payout_currencies);\n        break;\n\n      case 'transaction':\n        gtm_store.pushTransactionData(response);\n        break;\n      // no default\n    }\n  };\n\n  var setResidence = function setResidence(residence) {\n    if (residence) {\n      client_store.setResidence(residence);\n      _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.landingCompany(residence);\n    }\n  };\n\n  var setSessionDurationLimit = function setSessionDurationLimit(user_limits) {\n    var _user_limits$get_self;\n\n    var duration = user_limits === null || user_limits === void 0 ? void 0 : (_user_limits$get_self = user_limits.get_self_exclusion) === null || _user_limits$get_self === void 0 ? void 0 : _user_limits$get_self.session_duration_limit;\n    session_start_time = new Date(sessionStorage.getItem('session_start_time') || _common_base_server_time__WEBPACK_IMPORTED_MODULE_4___default().get());\n    sessionStorage.setItem('session_start_time', session_start_time);\n\n    if (duration && duration !== session_duration_limit) {\n      var current_session_duration = session_duration_limit ? _common_base_server_time__WEBPACK_IMPORTED_MODULE_4___default().get() - moment__WEBPACK_IMPORTED_MODULE_0___default()(session_start_time) : 0;\n      var remaining_session_time = duration * 60 * 1000 - current_session_duration;\n      clearTimeout(session_timeout);\n      session_timeout = setTimeout(function () {\n        client_store.logout();\n        sessionStorage.removeItem('session_start_time');\n      }, remaining_session_time);\n    } else if (!duration) {\n      clearTimeout(session_timeout);\n    }\n\n    session_duration_limit = duration;\n  };\n\n  var setBalanceActiveAccount = (0,mobx__WEBPACK_IMPORTED_MODULE_1__.flow)( /*#__PURE__*/regeneratorRuntime.mark(function _callee(obj_balance) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().wait('website_status');\n\n          case 2:\n            client_store.setBalanceActiveAccount(obj_balance);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  var setBalanceOtherAccounts = function setBalanceOtherAccounts(obj_balance) {\n    client_store.setBalanceOtherAccounts(obj_balance);\n  };\n\n  var handleError = function handleError(response) {\n    var msg_type = response.msg_type;\n    var error_code = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getPropertyValue)(response, ['error', 'code']);\n\n    switch (error_code) {\n      case 'WrongResponse':\n        // TODO: Remove condition checks below for WrongResponse once mt5 is more reliable\n        if (msg_type === 'mt5_login_list') {\n          _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.authorized.mt5LoginList().then(function (mt5_list_response) {\n            if (!mt5_list_response.error) {\n              client_store.responseMt5LoginList(mt5_list_response);\n              _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.balanceAll().then(function (balance_response) {\n                if (!balance_response.error) client_store.setBalanceOtherAccounts(balance_response.balance);\n              });\n            } else {\n              client_store.resetMt5ListPopulatedState();\n            }\n          });\n        } else if (msg_type === 'balance') {\n          _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.forgetAll('balance').then(subscribeBalances);\n        } else if (msg_type === 'get_account_status') {\n          _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.authorized.getAccountStatus().then(function (account_status_response) {\n            if (!account_status_response.error) {\n              client_store.setAccountStatus(account_status_response.get_account_status);\n            }\n          });\n        } else if (msg_type === 'landing_company') {\n          if (client_store.residence) {\n            _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.authorized.landingCompany(client_store.residence).then(function (landing_company_response) {\n              if (!landing_company_response.error) {\n                client_store.responseLandingCompany(landing_company_response);\n              }\n            });\n          }\n        }\n\n        break;\n\n      case 'InternalServerError':\n      case 'OutputValidationFailed':\n        {\n          if (msg_type !== 'mt5_login_list') {\n            common_store.setError(true, {\n              message: response.error.message\n            });\n          }\n\n          break;\n        }\n\n      case 'RateLimit':\n        if (msg_type !== 'cashier_password') {\n          common_store.setError(true, {\n            message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You have reached the rate limit of requests per second. Please try later.')\n          });\n        }\n\n        break;\n\n      case 'InvalidAppID':\n        common_store.setError(true, {\n          message: response.error.message\n        });\n        break;\n\n      case 'DisabledClient':\n        common_store.setError(true, {\n          message: response.error.message\n        });\n        break;\n\n      case 'InvalidToken':\n        if (['cashier', 'paymentagent_withdraw', 'reset_password', 'trading_platform_password_reset', 'trading_platform_investor_password_reset', 'new_account_virtual', 'p2p_advertiser_info', 'portfolio', 'proposal_open_contract'].includes(msg_type)) {\n          return;\n        }\n\n        if (!['reset_password'].includes(msg_type)) {\n          if (window.TrackJS) window.TrackJS.track('Custom InvalidToken error');\n        } // eslint-disable-next-line no-case-declarations\n\n\n        var active_platform = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getActivePlatform)(common_store.app_routing_history); // DBot handles this internally. Special case: 'client.invalid_token'\n\n        if (active_platform === 'DBot') return;\n        client_store.logout().then(function () {\n          var redirect_to = _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.trade;\n\n          if (active_platform === 'DMT5') {\n            redirect_to = _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.mt5;\n          }\n\n          common_store.routeTo(redirect_to);\n        });\n        break;\n\n      case 'AuthorizationRequired':\n        // if msg_type is coming from 'buy', behaviour should be handled in app itself.\n        if (msg_type === 'buy') {\n          return;\n        }\n\n        client_store.logout();\n        break;\n      // no default\n    }\n  };\n\n  var init = function init(store) {\n    client_store = store.client;\n    common_store = store.common;\n    gtm_store = store.gtm;\n    return {\n      onDisconnect: onDisconnect,\n      onOpen: onOpen,\n      onMessage: onMessage\n    };\n  };\n\n  var subscribeBalances = function subscribeBalances() {\n    _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.subscribeBalanceAll(ResponseHandlers.balanceOtherAccounts);\n    _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.subscribeBalanceActiveAccount(ResponseHandlers.balanceActiveAccount, client_store.loginid);\n  };\n\n  var authorizeAccount = function authorizeAccount(response) {\n    client_store.responseAuthorize(response);\n    subscribeBalances();\n    _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.storage.getSettings();\n    _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.getAccountStatus();\n    _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.storage.payoutCurrencies();\n\n    if (!client_store.is_virtual) {\n      _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.getSelfExclusion();\n    }\n\n    _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().sendBuffered();\n\n    if (/bch/i.test(response.authorize.currency) && !client_store.accounts[client_store.loginid].accepted_bch) {// showPopup({\n      //     url        : urlFor('user/warning'),\n      //     popup_id   : 'warning_popup',\n      //     form_id    : '#frm_warning',\n      //     content_id : '#warning_content',\n      //     validations: [{ selector: '#chk_accept', validations: [['req', { hide_asterisk: true }]] }],\n      //     onAccept   : () => { Client.set('accepted_bch', 1); },\n      // });\n    }\n  };\n\n  return {\n    init: init,\n    setBalanceActiveAccount: setBalanceActiveAccount,\n    setBalanceOtherAccounts: setBalanceOtherAccounts,\n    authorizeAccount: authorizeAccount\n  };\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BinarySocketGeneral);\n\nvar ResponseHandlers = function () {\n  var websiteStatus = function websiteStatus(response) {\n    if (response.website_status) {\n      var is_available = !_common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().isSiteDown(response.website_status.site_status);\n\n      if (is_available && _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().getAvailability().is_down) {\n        window.location.reload();\n        return;\n      }\n\n      var is_updating = _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().isSiteUpdating(response.website_status.site_status);\n\n      if (is_updating && !_common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().getAvailability().is_updating) {\n        // the existing connection is alive for one minute while status is updating\n        // switch to the new connection somewhere between 1-30 seconds from now\n        // to avoid everyone switching to the new connection at the same time\n        var rand_timeout = Math.floor(Math.random() * 30) + 1;\n        window.setTimeout(function () {\n          _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().closeAndOpenNewConnection();\n        }, rand_timeout * 1000);\n      }\n\n      _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().setAvailability(response.website_status.site_status);\n      client_store.setWebsiteStatus(response);\n    }\n  };\n\n  var balanceActiveAccount = function balanceActiveAccount(response) {\n    if (!response.error) {\n      BinarySocketGeneral.setBalanceActiveAccount(response.balance);\n    }\n  };\n\n  var balanceOtherAccounts = function balanceOtherAccounts(response) {\n    if (!response.error) {\n      BinarySocketGeneral.setBalanceOtherAccounts(response.balance);\n    }\n  };\n\n  return {\n    websiteStatus: websiteStatus,\n    balanceActiveAccount: balanceActiveAccount,\n    balanceOtherAccounts: balanceOtherAccounts\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TZXJ2aWNlcy9zb2NrZXQtZ2VuZXJhbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxEQTtBQW9EQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTs7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQURBO0FBRUE7O0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBOztBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7O0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFDQTtBQUNBO0FBYUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBOztBQUdBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBN0ZBO0FBK0ZBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TZXJ2aWNlcy9zb2NrZXQtZ2VuZXJhbC5qcz80MTlmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IGZsb3cgfSBmcm9tICdtb2J4JztcbmltcG9ydCB7IFN0YXRlLCBnZXRBY3RpdmVQbGF0Zm9ybSwgZ2V0UHJvcGVydHlWYWx1ZSwgcm91dGVzIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IFNlcnZlclRpbWUgZnJvbSAnX2NvbW1vbi9iYXNlL3NlcnZlcl90aW1lJztcbmltcG9ydCBCaW5hcnlTb2NrZXQgZnJvbSAnX2NvbW1vbi9iYXNlL3NvY2tldF9iYXNlJztcbmltcG9ydCBXUyBmcm9tICcuL3dzLW1ldGhvZHMnO1xuXG5sZXQgY2xpZW50X3N0b3JlLCBjb21tb25fc3RvcmUsIGd0bV9zdG9yZTtcblxuLy8gVE9ETzogdXBkYXRlIGNvbW1lbnRlZCBzdGF0ZW1lbnRzIHRvIHRoZSBjb3JyZXNwb25kaW5nIGZ1bmN0aW9ucyBmcm9tIGFwcFxuY29uc3QgQmluYXJ5U29ja2V0R2VuZXJhbCA9ICgoKSA9PiB7XG4gICAgbGV0IHNlc3Npb25fZHVyYXRpb25fbGltaXQsIHNlc3Npb25fc3RhcnRfdGltZSwgc2Vzc2lvbl90aW1lb3V0O1xuXG4gICAgY29uc3Qgb25EaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgICBjb21tb25fc3RvcmUuc2V0SXNTb2NrZXRPcGVuZWQoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBvbk9wZW4gPSBpc19yZWFkeSA9PiB7XG4gICAgICAgIGlmIChpc19yZWFkeSkge1xuICAgICAgICAgICAgaWYgKCFjbGllbnRfc3RvcmUuaXNfdmFsaWRfbG9naW4pIHtcbiAgICAgICAgICAgICAgICBjbGllbnRfc3RvcmUubG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgV1Muc3Vic2NyaWJlV2Vic2l0ZVN0YXR1cyhSZXNwb25zZUhhbmRsZXJzLndlYnNpdGVTdGF0dXMpO1xuICAgICAgICAgICAgU2VydmVyVGltZS5pbml0KCgpID0+IGNvbW1vbl9zdG9yZS5zZXRTZXJ2ZXJUaW1lKFNlcnZlclRpbWUuZ2V0KCkpKTtcbiAgICAgICAgICAgIGNvbW1vbl9zdG9yZS5zZXRJc1NvY2tldE9wZW5lZCh0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvbk1lc3NhZ2UgPSByZXNwb25zZSA9PiB7XG4gICAgICAgIGhhbmRsZUVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgLy8gSGVhZGVyLmhpZGVOb3RpZmljYXRpb24oJ0NPTk5FQ1RJT05fRVJST1InKTtcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZS5tc2dfdHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYXV0aG9yaXplJzpcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNfYWN0aXZlX3RhYiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZV90YWInKSA9PT0gJzEnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0UHJvcGVydHlWYWx1ZShyZXNwb25zZSwgWydlcnJvcicsICdjb2RlJ10pID09PSAnU2VsZkV4Y2x1c2lvbicgJiYgaXNfYWN0aXZlX3RhYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnYWN0aXZlX3RhYicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGlhbG9nLmFsZXJ0KHsgaWQ6ICdhdXRob3JpemVfZXJyb3JfYWxlcnQnLCBtZXNzYWdlOiByZXNwb25zZS5lcnJvci5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEvYXV0aG9yaXplLy50ZXN0KFN0YXRlLmdldCgnc2tpcF9yZXNwb25zZScpKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpc19wb3B1bGF0aW5nX2FjY291bnRfbGlzdCBpcyBhIGNoZWNrIHRvIGF2b2lkIGxvZ291dCBvbiB0aGUgZmlyc3QgbG9nZ2VkLWluIHNlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gYW55IG90aGVyIGNhc2UsIGlmIHRoZSByZXNwb25zZSBsb2dpbmlkIGRvZXMgbm90IG1hdGNoIHRoZSBzdG9yZSdzIGxvZ2luaWQsIHVzZXIgbXVzdCBiZSBsb2dnZWQgb3V0XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmF1dGhvcml6ZS5sb2dpbmlkICE9PSBjbGllbnRfc3RvcmUubG9naW5pZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWNsaWVudF9zdG9yZS5pc19wb3B1bGF0aW5nX2FjY291bnRfbGlzdCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWNsaWVudF9zdG9yZS5pc19zd2l0Y2hpbmdcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfc3RvcmUubG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuYXV0aG9yaXplLmxvZ2luaWQgPT09IGNsaWVudF9zdG9yZS5sb2dpbmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGwgb3RoZXIgY2FzZXMgY29udGludWUgd2l0aCB0aGUgbG9naW5pZCBhbmQgYXV0aG9yaXplIHRoZSBwcm9maWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpemVBY2NvdW50KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xhbmRpbmdfY29tcGFueSc6XG4gICAgICAgICAgICAgICAgLy8gSGVhZGVyLnVwZ3JhZGVNZXNzYWdlVmlzaWJpbGl0eSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ2V0X3NlbGZfZXhjbHVzaW9uJzpcbiAgICAgICAgICAgICAgICBzZXRTZXNzaW9uRHVyYXRpb25MaW1pdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdnZXRfc2V0dGluZ3MnOlxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5nZXRfc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzaWRlbmNlKHJlc3BvbnNlLmdldF9zZXR0aW5ncy5jb3VudHJ5X2NvZGUpO1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRfc3RvcmUuc2V0RW1haWwocmVzcG9uc2UuZ2V0X3NldHRpbmdzLmVtYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50X3N0b3JlLnNldEFjY291bnRTZXR0aW5ncyhyZXNwb25zZS5nZXRfc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICBndG1fc3RvcmUuZXZlbnRIYW5kbGVyKHJlc3BvbnNlLmdldF9zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2V0X2FjY291bnRfY3VycmVuY3knOlxuICAgICAgICAgICAgICAgIFdTLmZvcmdldEFsbCgnYmFsYW5jZScpLnRoZW4oc3Vic2NyaWJlQmFsYW5jZXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ2V0X2FjY291bnRfc3RhdHVzJzpcbiAgICAgICAgICAgICAgICBjbGllbnRfc3RvcmUuc2V0QWNjb3VudFN0YXR1cyhyZXNwb25zZS5nZXRfYWNjb3VudF9zdGF0dXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGF5b3V0X2N1cnJlbmNpZXMnOlxuICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5yZXNwb25zZVBheW91dEN1cnJlbmNpZXMocmVzcG9uc2UucGF5b3V0X2N1cnJlbmNpZXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhbnNhY3Rpb24nOlxuICAgICAgICAgICAgICAgIGd0bV9zdG9yZS5wdXNoVHJhbnNhY3Rpb25EYXRhKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIG5vIGRlZmF1bHRcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZXRSZXNpZGVuY2UgPSByZXNpZGVuY2UgPT4ge1xuICAgICAgICBpZiAocmVzaWRlbmNlKSB7XG4gICAgICAgICAgICBjbGllbnRfc3RvcmUuc2V0UmVzaWRlbmNlKHJlc2lkZW5jZSk7XG4gICAgICAgICAgICBXUy5sYW5kaW5nQ29tcGFueShyZXNpZGVuY2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNldFNlc3Npb25EdXJhdGlvbkxpbWl0ID0gdXNlcl9saW1pdHMgPT4ge1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHVzZXJfbGltaXRzPy5nZXRfc2VsZl9leGNsdXNpb24/LnNlc3Npb25fZHVyYXRpb25fbGltaXQ7XG5cbiAgICAgICAgc2Vzc2lvbl9zdGFydF90aW1lID0gbmV3IERhdGUoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbl9zdGFydF90aW1lJykgfHwgU2VydmVyVGltZS5nZXQoKSk7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Nlc3Npb25fc3RhcnRfdGltZScsIHNlc3Npb25fc3RhcnRfdGltZSk7XG5cbiAgICAgICAgaWYgKGR1cmF0aW9uICYmIGR1cmF0aW9uICE9PSBzZXNzaW9uX2R1cmF0aW9uX2xpbWl0KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50X3Nlc3Npb25fZHVyYXRpb24gPSBzZXNzaW9uX2R1cmF0aW9uX2xpbWl0ID8gU2VydmVyVGltZS5nZXQoKSAtIG1vbWVudChzZXNzaW9uX3N0YXJ0X3RpbWUpIDogMDtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ19zZXNzaW9uX3RpbWUgPSBkdXJhdGlvbiAqIDYwICogMTAwMCAtIGN1cnJlbnRfc2Vzc2lvbl9kdXJhdGlvbjtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzZXNzaW9uX3RpbWVvdXQpO1xuICAgICAgICAgICAgc2Vzc2lvbl90aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2xpZW50X3N0b3JlLmxvZ291dCgpO1xuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3Nlc3Npb25fc3RhcnRfdGltZScpO1xuICAgICAgICAgICAgfSwgcmVtYWluaW5nX3Nlc3Npb25fdGltZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWR1cmF0aW9uKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Vzc2lvbl90aW1lb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlc3Npb25fZHVyYXRpb25fbGltaXQgPSBkdXJhdGlvbjtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QmFsYW5jZUFjdGl2ZUFjY291bnQgPSBmbG93KGZ1bmN0aW9uKiAob2JqX2JhbGFuY2UpIHtcbiAgICAgICAgeWllbGQgQmluYXJ5U29ja2V0LndhaXQoJ3dlYnNpdGVfc3RhdHVzJyk7XG4gICAgICAgIGNsaWVudF9zdG9yZS5zZXRCYWxhbmNlQWN0aXZlQWNjb3VudChvYmpfYmFsYW5jZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzZXRCYWxhbmNlT3RoZXJBY2NvdW50cyA9IG9ial9iYWxhbmNlID0+IHtcbiAgICAgICAgY2xpZW50X3N0b3JlLnNldEJhbGFuY2VPdGhlckFjY291bnRzKG9ial9iYWxhbmNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSByZXNwb25zZSA9PiB7XG4gICAgICAgIGNvbnN0IG1zZ190eXBlID0gcmVzcG9uc2UubXNnX3R5cGU7XG4gICAgICAgIGNvbnN0IGVycm9yX2NvZGUgPSBnZXRQcm9wZXJ0eVZhbHVlKHJlc3BvbnNlLCBbJ2Vycm9yJywgJ2NvZGUnXSk7XG4gICAgICAgIHN3aXRjaCAoZXJyb3JfY29kZSkge1xuICAgICAgICAgICAgY2FzZSAnV3JvbmdSZXNwb25zZSc6XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNvbmRpdGlvbiBjaGVja3MgYmVsb3cgZm9yIFdyb25nUmVzcG9uc2Ugb25jZSBtdDUgaXMgbW9yZSByZWxpYWJsZVxuICAgICAgICAgICAgICAgIGlmIChtc2dfdHlwZSA9PT0gJ210NV9sb2dpbl9saXN0Jykge1xuICAgICAgICAgICAgICAgICAgICBXUy5hdXRob3JpemVkLm10NUxvZ2luTGlzdCgpLnRoZW4obXQ1X2xpc3RfcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtdDVfbGlzdF9yZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5yZXNwb25zZU10NUxvZ2luTGlzdChtdDVfbGlzdF9yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV1MuYmFsYW5jZUFsbCgpLnRoZW4oYmFsYW5jZV9yZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYmFsYW5jZV9yZXNwb25zZS5lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5zZXRCYWxhbmNlT3RoZXJBY2NvdW50cyhiYWxhbmNlX3Jlc3BvbnNlLmJhbGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfc3RvcmUucmVzZXRNdDVMaXN0UG9wdWxhdGVkU3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtc2dfdHlwZSA9PT0gJ2JhbGFuY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIFdTLmZvcmdldEFsbCgnYmFsYW5jZScpLnRoZW4oc3Vic2NyaWJlQmFsYW5jZXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobXNnX3R5cGUgPT09ICdnZXRfYWNjb3VudF9zdGF0dXMnKSB7XG4gICAgICAgICAgICAgICAgICAgIFdTLmF1dGhvcml6ZWQuZ2V0QWNjb3VudFN0YXR1cygpLnRoZW4oYWNjb3VudF9zdGF0dXNfcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhY2NvdW50X3N0YXR1c19yZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5zZXRBY2NvdW50U3RhdHVzKGFjY291bnRfc3RhdHVzX3Jlc3BvbnNlLmdldF9hY2NvdW50X3N0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobXNnX3R5cGUgPT09ICdsYW5kaW5nX2NvbXBhbnknKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRfc3RvcmUucmVzaWRlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBXUy5hdXRob3JpemVkLmxhbmRpbmdDb21wYW55KGNsaWVudF9zdG9yZS5yZXNpZGVuY2UpLnRoZW4obGFuZGluZ19jb21wYW55X3Jlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxhbmRpbmdfY29tcGFueV9yZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfc3RvcmUucmVzcG9uc2VMYW5kaW5nQ29tcGFueShsYW5kaW5nX2NvbXBhbnlfcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSW50ZXJuYWxTZXJ2ZXJFcnJvcic6XG4gICAgICAgICAgICBjYXNlICdPdXRwdXRWYWxpZGF0aW9uRmFpbGVkJzoge1xuICAgICAgICAgICAgICAgIGlmIChtc2dfdHlwZSAhPT0gJ210NV9sb2dpbl9saXN0Jykge1xuICAgICAgICAgICAgICAgICAgICBjb21tb25fc3RvcmUuc2V0RXJyb3IodHJ1ZSwgeyBtZXNzYWdlOiByZXNwb25zZS5lcnJvci5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1JhdGVMaW1pdCc6XG4gICAgICAgICAgICAgICAgaWYgKG1zZ190eXBlICE9PSAnY2FzaGllcl9wYXNzd29yZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uX3N0b3JlLnNldEVycm9yKHRydWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdZb3UgaGF2ZSByZWFjaGVkIHRoZSByYXRlIGxpbWl0IG9mIHJlcXVlc3RzIHBlciBzZWNvbmQuIFBsZWFzZSB0cnkgbGF0ZXIuJyksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0ludmFsaWRBcHBJRCc6XG4gICAgICAgICAgICAgICAgY29tbW9uX3N0b3JlLnNldEVycm9yKHRydWUsIHsgbWVzc2FnZTogcmVzcG9uc2UuZXJyb3IubWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Rpc2FibGVkQ2xpZW50JzpcbiAgICAgICAgICAgICAgICBjb21tb25fc3RvcmUuc2V0RXJyb3IodHJ1ZSwgeyBtZXNzYWdlOiByZXNwb25zZS5lcnJvci5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSW52YWxpZFRva2VuJzpcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjYXNoaWVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdwYXltZW50YWdlbnRfd2l0aGRyYXcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc2V0X3Bhc3N3b3JkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0cmFkaW5nX3BsYXRmb3JtX3Bhc3N3b3JkX3Jlc2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0cmFkaW5nX3BsYXRmb3JtX2ludmVzdG9yX3Bhc3N3b3JkX3Jlc2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXdfYWNjb3VudF92aXJ0dWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdwMnBfYWR2ZXJ0aXNlcl9pbmZvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdwb3J0Zm9saW8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3Bvc2FsX29wZW5fY29udHJhY3QnLFxuICAgICAgICAgICAgICAgICAgICBdLmluY2x1ZGVzKG1zZ190eXBlKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghWydyZXNldF9wYXNzd29yZCddLmluY2x1ZGVzKG1zZ190eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LlRyYWNrSlMpIHdpbmRvdy5UcmFja0pTLnRyYWNrKCdDdXN0b20gSW52YWxpZFRva2VuIGVycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZV9wbGF0Zm9ybSA9IGdldEFjdGl2ZVBsYXRmb3JtKGNvbW1vbl9zdG9yZS5hcHBfcm91dGluZ19oaXN0b3J5KTtcblxuICAgICAgICAgICAgICAgIC8vIERCb3QgaGFuZGxlcyB0aGlzIGludGVybmFsbHkuIFNwZWNpYWwgY2FzZTogJ2NsaWVudC5pbnZhbGlkX3Rva2VuJ1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVfcGxhdGZvcm0gPT09ICdEQm90JykgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgY2xpZW50X3N0b3JlLmxvZ291dCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVkaXJlY3RfdG8gPSByb3V0ZXMudHJhZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVfcGxhdGZvcm0gPT09ICdETVQ1Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RfdG8gPSByb3V0ZXMubXQ1O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbl9zdG9yZS5yb3V0ZVRvKHJlZGlyZWN0X3RvKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0F1dGhvcml6YXRpb25SZXF1aXJlZCc6XG4gICAgICAgICAgICAgICAgLy8gaWYgbXNnX3R5cGUgaXMgY29taW5nIGZyb20gJ2J1eScsIGJlaGF2aW91ciBzaG91bGQgYmUgaGFuZGxlZCBpbiBhcHAgaXRzZWxmLlxuICAgICAgICAgICAgICAgIGlmIChtc2dfdHlwZSA9PT0gJ2J1eScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGllbnRfc3RvcmUubG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBubyBkZWZhdWx0XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaW5pdCA9IHN0b3JlID0+IHtcbiAgICAgICAgY2xpZW50X3N0b3JlID0gc3RvcmUuY2xpZW50O1xuICAgICAgICBjb21tb25fc3RvcmUgPSBzdG9yZS5jb21tb247XG4gICAgICAgIGd0bV9zdG9yZSA9IHN0b3JlLmd0bTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb25EaXNjb25uZWN0LFxuICAgICAgICAgICAgb25PcGVuLFxuICAgICAgICAgICAgb25NZXNzYWdlLFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBzdWJzY3JpYmVCYWxhbmNlcyA9ICgpID0+IHtcbiAgICAgICAgV1Muc3Vic2NyaWJlQmFsYW5jZUFsbChSZXNwb25zZUhhbmRsZXJzLmJhbGFuY2VPdGhlckFjY291bnRzKTtcbiAgICAgICAgV1Muc3Vic2NyaWJlQmFsYW5jZUFjdGl2ZUFjY291bnQoUmVzcG9uc2VIYW5kbGVycy5iYWxhbmNlQWN0aXZlQWNjb3VudCwgY2xpZW50X3N0b3JlLmxvZ2luaWQpO1xuICAgIH07XG5cbiAgICBjb25zdCBhdXRob3JpemVBY2NvdW50ID0gcmVzcG9uc2UgPT4ge1xuICAgICAgICBjbGllbnRfc3RvcmUucmVzcG9uc2VBdXRob3JpemUocmVzcG9uc2UpO1xuICAgICAgICBzdWJzY3JpYmVCYWxhbmNlcygpO1xuICAgICAgICBXUy5zdG9yYWdlLmdldFNldHRpbmdzKCk7XG4gICAgICAgIFdTLmdldEFjY291bnRTdGF0dXMoKTtcbiAgICAgICAgV1Muc3RvcmFnZS5wYXlvdXRDdXJyZW5jaWVzKCk7XG4gICAgICAgIGlmICghY2xpZW50X3N0b3JlLmlzX3ZpcnR1YWwpIHtcbiAgICAgICAgICAgIFdTLmdldFNlbGZFeGNsdXNpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBCaW5hcnlTb2NrZXQuc2VuZEJ1ZmZlcmVkKCk7XG4gICAgICAgIGlmICgvYmNoL2kudGVzdChyZXNwb25zZS5hdXRob3JpemUuY3VycmVuY3kpICYmICFjbGllbnRfc3RvcmUuYWNjb3VudHNbY2xpZW50X3N0b3JlLmxvZ2luaWRdLmFjY2VwdGVkX2JjaCkge1xuICAgICAgICAgICAgLy8gc2hvd1BvcHVwKHtcbiAgICAgICAgICAgIC8vICAgICB1cmwgICAgICAgIDogdXJsRm9yKCd1c2VyL3dhcm5pbmcnKSxcbiAgICAgICAgICAgIC8vICAgICBwb3B1cF9pZCAgIDogJ3dhcm5pbmdfcG9wdXAnLFxuICAgICAgICAgICAgLy8gICAgIGZvcm1faWQgICAgOiAnI2ZybV93YXJuaW5nJyxcbiAgICAgICAgICAgIC8vICAgICBjb250ZW50X2lkIDogJyN3YXJuaW5nX2NvbnRlbnQnLFxuICAgICAgICAgICAgLy8gICAgIHZhbGlkYXRpb25zOiBbeyBzZWxlY3RvcjogJyNjaGtfYWNjZXB0JywgdmFsaWRhdGlvbnM6IFtbJ3JlcScsIHsgaGlkZV9hc3RlcmlzazogdHJ1ZSB9XV0gfV0sXG4gICAgICAgICAgICAvLyAgICAgb25BY2NlcHQgICA6ICgpID0+IHsgQ2xpZW50LnNldCgnYWNjZXB0ZWRfYmNoJywgMSk7IH0sXG4gICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0LFxuICAgICAgICBzZXRCYWxhbmNlQWN0aXZlQWNjb3VudCxcbiAgICAgICAgc2V0QmFsYW5jZU90aGVyQWNjb3VudHMsXG4gICAgICAgIGF1dGhvcml6ZUFjY291bnQsXG4gICAgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IEJpbmFyeVNvY2tldEdlbmVyYWw7XG5cbmNvbnN0IFJlc3BvbnNlSGFuZGxlcnMgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHdlYnNpdGVTdGF0dXMgPSByZXNwb25zZSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS53ZWJzaXRlX3N0YXR1cykge1xuICAgICAgICAgICAgY29uc3QgaXNfYXZhaWxhYmxlID0gIUJpbmFyeVNvY2tldC5pc1NpdGVEb3duKHJlc3BvbnNlLndlYnNpdGVfc3RhdHVzLnNpdGVfc3RhdHVzKTtcbiAgICAgICAgICAgIGlmIChpc19hdmFpbGFibGUgJiYgQmluYXJ5U29ja2V0LmdldEF2YWlsYWJpbGl0eSgpLmlzX2Rvd24pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNfdXBkYXRpbmcgPSBCaW5hcnlTb2NrZXQuaXNTaXRlVXBkYXRpbmcocmVzcG9uc2Uud2Vic2l0ZV9zdGF0dXMuc2l0ZV9zdGF0dXMpO1xuICAgICAgICAgICAgaWYgKGlzX3VwZGF0aW5nICYmICFCaW5hcnlTb2NrZXQuZ2V0QXZhaWxhYmlsaXR5KCkuaXNfdXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgZXhpc3RpbmcgY29ubmVjdGlvbiBpcyBhbGl2ZSBmb3Igb25lIG1pbnV0ZSB3aGlsZSBzdGF0dXMgaXMgdXBkYXRpbmdcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggdG8gdGhlIG5ldyBjb25uZWN0aW9uIHNvbWV3aGVyZSBiZXR3ZWVuIDEtMzAgc2Vjb25kcyBmcm9tIG5vd1xuICAgICAgICAgICAgICAgIC8vIHRvIGF2b2lkIGV2ZXJ5b25lIHN3aXRjaGluZyB0byB0aGUgbmV3IGNvbm5lY3Rpb24gYXQgdGhlIHNhbWUgdGltZVxuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRfdGltZW91dCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwKSArIDE7XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBCaW5hcnlTb2NrZXQuY2xvc2VBbmRPcGVuTmV3Q29ubmVjdGlvbigpO1xuICAgICAgICAgICAgICAgIH0sIHJhbmRfdGltZW91dCAqIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQmluYXJ5U29ja2V0LnNldEF2YWlsYWJpbGl0eShyZXNwb25zZS53ZWJzaXRlX3N0YXR1cy5zaXRlX3N0YXR1cyk7XG4gICAgICAgICAgICBjbGllbnRfc3RvcmUuc2V0V2Vic2l0ZVN0YXR1cyhyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYmFsYW5jZUFjdGl2ZUFjY291bnQgPSByZXNwb25zZSA9PiB7XG4gICAgICAgIGlmICghcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgIEJpbmFyeVNvY2tldEdlbmVyYWwuc2V0QmFsYW5jZUFjdGl2ZUFjY291bnQocmVzcG9uc2UuYmFsYW5jZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYmFsYW5jZU90aGVyQWNjb3VudHMgPSByZXNwb25zZSA9PiB7XG4gICAgICAgIGlmICghcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgIEJpbmFyeVNvY2tldEdlbmVyYWwuc2V0QmFsYW5jZU90aGVyQWNjb3VudHMocmVzcG9uc2UuYmFsYW5jZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2Vic2l0ZVN0YXR1cyxcbiAgICAgICAgYmFsYW5jZUFjdGl2ZUFjY291bnQsXG4gICAgICAgIGJhbGFuY2VPdGhlckFjY291bnRzLFxuICAgIH07XG59KSgpO1xuIl0sIm5hbWVzIjpbIm1vbWVudCIsImZsb3ciLCJTdGF0ZSIsImdldEFjdGl2ZVBsYXRmb3JtIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInJvdXRlcyIsImxvY2FsaXplIiwiU2VydmVyVGltZSIsIkJpbmFyeVNvY2tldCIsIldTIiwiY2xpZW50X3N0b3JlIiwiY29tbW9uX3N0b3JlIiwiZ3RtX3N0b3JlIiwiQmluYXJ5U29ja2V0R2VuZXJhbCIsInNlc3Npb25fZHVyYXRpb25fbGltaXQiLCJzZXNzaW9uX3N0YXJ0X3RpbWUiLCJzZXNzaW9uX3RpbWVvdXQiLCJvbkRpc2Nvbm5lY3QiLCJzZXRJc1NvY2tldE9wZW5lZCIsIm9uT3BlbiIsImlzX3JlYWR5IiwiaXNfdmFsaWRfbG9naW4iLCJsb2dvdXQiLCJzdWJzY3JpYmVXZWJzaXRlU3RhdHVzIiwiUmVzcG9uc2VIYW5kbGVycyIsIndlYnNpdGVTdGF0dXMiLCJpbml0Iiwic2V0U2VydmVyVGltZSIsImdldCIsIm9uTWVzc2FnZSIsInJlc3BvbnNlIiwiaGFuZGxlRXJyb3IiLCJtc2dfdHlwZSIsImVycm9yIiwiaXNfYWN0aXZlX3RhYiIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJ0ZXN0IiwiYXV0aG9yaXplIiwibG9naW5pZCIsImlzX3BvcHVsYXRpbmdfYWNjb3VudF9saXN0IiwiaXNfc3dpdGNoaW5nIiwiYXV0aG9yaXplQWNjb3VudCIsInNldFNlc3Npb25EdXJhdGlvbkxpbWl0IiwiZ2V0X3NldHRpbmdzIiwic2V0UmVzaWRlbmNlIiwiY291bnRyeV9jb2RlIiwic2V0RW1haWwiLCJlbWFpbCIsInNldEFjY291bnRTZXR0aW5ncyIsImV2ZW50SGFuZGxlciIsImZvcmdldEFsbCIsInRoZW4iLCJzdWJzY3JpYmVCYWxhbmNlcyIsInNldEFjY291bnRTdGF0dXMiLCJnZXRfYWNjb3VudF9zdGF0dXMiLCJyZXNwb25zZVBheW91dEN1cnJlbmNpZXMiLCJwYXlvdXRfY3VycmVuY2llcyIsInB1c2hUcmFuc2FjdGlvbkRhdGEiLCJyZXNpZGVuY2UiLCJsYW5kaW5nQ29tcGFueSIsInVzZXJfbGltaXRzIiwiZHVyYXRpb24iLCJnZXRfc2VsZl9leGNsdXNpb24iLCJEYXRlIiwic2V0SXRlbSIsImN1cnJlbnRfc2Vzc2lvbl9kdXJhdGlvbiIsInJlbWFpbmluZ19zZXNzaW9uX3RpbWUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2V0QmFsYW5jZUFjdGl2ZUFjY291bnQiLCJvYmpfYmFsYW5jZSIsIndhaXQiLCJzZXRCYWxhbmNlT3RoZXJBY2NvdW50cyIsImVycm9yX2NvZGUiLCJhdXRob3JpemVkIiwibXQ1TG9naW5MaXN0IiwibXQ1X2xpc3RfcmVzcG9uc2UiLCJyZXNwb25zZU10NUxvZ2luTGlzdCIsImJhbGFuY2VBbGwiLCJiYWxhbmNlX3Jlc3BvbnNlIiwiYmFsYW5jZSIsInJlc2V0TXQ1TGlzdFBvcHVsYXRlZFN0YXRlIiwiZ2V0QWNjb3VudFN0YXR1cyIsImFjY291bnRfc3RhdHVzX3Jlc3BvbnNlIiwibGFuZGluZ19jb21wYW55X3Jlc3BvbnNlIiwicmVzcG9uc2VMYW5kaW5nQ29tcGFueSIsInNldEVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwid2luZG93IiwiVHJhY2tKUyIsInRyYWNrIiwiYWN0aXZlX3BsYXRmb3JtIiwiYXBwX3JvdXRpbmdfaGlzdG9yeSIsInJlZGlyZWN0X3RvIiwidHJhZGUiLCJtdDUiLCJyb3V0ZVRvIiwic3RvcmUiLCJjbGllbnQiLCJjb21tb24iLCJndG0iLCJzdWJzY3JpYmVCYWxhbmNlQWxsIiwiYmFsYW5jZU90aGVyQWNjb3VudHMiLCJzdWJzY3JpYmVCYWxhbmNlQWN0aXZlQWNjb3VudCIsImJhbGFuY2VBY3RpdmVBY2NvdW50IiwicmVzcG9uc2VBdXRob3JpemUiLCJzdG9yYWdlIiwiZ2V0U2V0dGluZ3MiLCJwYXlvdXRDdXJyZW5jaWVzIiwiaXNfdmlydHVhbCIsImdldFNlbGZFeGNsdXNpb24iLCJzZW5kQnVmZmVyZWQiLCJjdXJyZW5jeSIsImFjY291bnRzIiwiYWNjZXB0ZWRfYmNoIiwid2Vic2l0ZV9zdGF0dXMiLCJpc19hdmFpbGFibGUiLCJpc1NpdGVEb3duIiwic2l0ZV9zdGF0dXMiLCJnZXRBdmFpbGFiaWxpdHkiLCJpc19kb3duIiwibG9jYXRpb24iLCJyZWxvYWQiLCJpc191cGRhdGluZyIsImlzU2l0ZVVwZGF0aW5nIiwicmFuZF90aW1lb3V0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2xvc2VBbmRPcGVuTmV3Q29ubmVjdGlvbiIsInNldEF2YWlsYWJpbGl0eSIsInNldFdlYnNpdGVTdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Services/socket-general.js\n");

/***/ }),

/***/ "./Services/ws-methods.js":
/*!********************************!*\
  !*** ./Services/ws-methods.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! _common/base/socket_base */ \"./_common/base/socket_base.js\");\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_common_base_socket_base__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n\n\nvar WS = (_common_base_socket_base__WEBPACK_IMPORTED_MODULE_0___default());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.trackJSNetworkMonitor)(WS));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TZXJ2aWNlcy93cy1tZXRob2RzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1NlcnZpY2VzL3dzLW1ldGhvZHMuanM/MTM2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmluYXJ5U29ja2V0IGZyb20gJ19jb21tb24vYmFzZS9zb2NrZXRfYmFzZSc7XG5pbXBvcnQgeyB0cmFja0pTTmV0d29ya01vbml0b3IgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcblxuY29uc3QgV1MgPSBCaW5hcnlTb2NrZXQ7XG5cbmV4cG9ydCBkZWZhdWx0IHRyYWNrSlNOZXR3b3JrTW9uaXRvcihXUyk7XG4iXSwibmFtZXMiOlsiQmluYXJ5U29ja2V0IiwidHJhY2tKU05ldHdvcmtNb25pdG9yIiwiV1MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Services/ws-methods.js\n");

/***/ }),

/***/ "./Stores/Helpers/client-notifications.js":
/*!************************************************!*\
  !*** ./Stores/Helpers/client-notifications.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clientNotifications\": () => (/* binding */ clientNotifications),\n/* harmony export */   \"excluded_notifications\": () => (/* binding */ excluded_notifications),\n/* harmony export */   \"handleClientNotifications\": () => (/* binding */ handleClientNotifications)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/components */ \"../../components/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var App_Components_Routes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! App/Components/Routes */ \"./App/Components/Routes/index.js\");\n/* harmony import */ var Services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! Services */ \"./Services/index.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\n // TODO: Update links to app_2 links when components are done.\n\n/* eslint-disable react/jsx-no-target-blank */\n\nvar clientNotifications = function clientNotifications() {\n  var ui = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var client = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var is_uk = arguments.length > 2 ? arguments[2] : undefined;\n  var has_malta_account = arguments.length > 3 ? arguments[3] : undefined;\n  var can_have_mlt_account = arguments.length > 4 ? arguments[4] : undefined;\n\n  var MxMltNotificationHeader = function MxMltNotificationHeader() {\n    if (has_malta_account || can_have_mlt_account) {\n      return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your Options account is scheduled to be closed');\n    } else if (is_uk) {\n      return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your Gaming account is scheduled to be closed');\n    }\n\n    return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your account is scheduled to be closed');\n  };\n\n  var MxMltNotificationText = function MxMltNotificationText() {\n    if (has_malta_account || can_have_mlt_account) {\n      return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Withdraw all funds from your Options account.');\n    }\n\n    return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please proceed to withdraw your funds before 30 November 2021.');\n  };\n\n  var notifications = {\n    dp2p: {\n      key: 'dp2p',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Payment problems?'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Theres an app for that'),\n      primary_btn: {\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Learn more'),\n        onClick: function onClick() {\n          window.open((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getStaticUrl)('/p2p'), '_blank');\n        }\n      },\n      img_src: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getUrlBase)('/public/images/common/dp2p_banner.png'),\n      img_alt: 'Deriv P2P',\n      type: 'news'\n    },\n    close_mx_mlt_account: {\n      key: 'close_mx_mlt_account',\n      header: MxMltNotificationHeader(),\n      message: MxMltNotificationText(),\n      secondary_btn: {\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Learn more'),\n        onClick: function onClick() {\n          ui.showCloseMxMltAccountPopup(true);\n        }\n      },\n      img_src: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getUrlBase)('/public/images/common/close_account_banner.png'),\n      img_alt: 'close mx mlt account',\n      type: 'close_mx_mlt'\n    },\n    is_virtual: {\n      key: 'is_virtual',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You are on your demo account'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please switch to your real account or create one to access the cashier.'),\n      type: 'warning'\n    },\n    no_residence: {\n      key: 'no_residence',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You have not selected your country of residence'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please set your country of residence in your account settings to access the cashier.'),\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.personal_details,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to my account settings')\n      },\n      type: 'warning'\n    },\n    currency: {\n      key: 'currency',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You have not selected your account currency'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please set your account currency to enable deposits and withdrawals.'),\n      action: {\n        onClick: function onClick() {\n          ui.openRealAccountSignup('set_currency');\n        },\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Set my account currency')\n      },\n      type: 'danger'\n    },\n    self_exclusion: function self_exclusion(excluded_until) {\n      return {\n        key: 'self_exclusion',\n        header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You have self-excluded from trading'),\n        message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n          i18n_default_text: \"You have chosen to exclude yourself from trading on our website until {{exclusion_end}}. If you are unable to place a trade or deposit after your self-exclusion period, please contact us via live chat.\",\n          values: {\n            exclusion_end: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatDate)(excluded_until, 'DD MMM, YYYY'),\n            interpolation: {\n              escapeValue: false\n            }\n          }\n        }),\n        action: {\n          onClick: function onClick() {\n            window.LC_API.open_chat_window();\n          },\n          text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to live chat')\n        },\n        type: 'danger'\n      };\n    },\n    cashier_locked: {\n      key: 'cashier_locked',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your cashier is currently locked'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please contact us via live chat to unlock it.'),\n      action: {\n        onClick: function onClick() {\n          window.LC_API.open_chat_window();\n        },\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to live chat')\n      },\n      type: 'warning'\n    },\n    system_maintenance: function system_maintenance(withdrawal_locked, deposit_locked) {\n      var message, header;\n\n      if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isCryptocurrency)(client.currency)) {\n        if (withdrawal_locked) {\n          header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Unable to process withdrawals in the moment');\n          message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Withdrawals are temporarily unavailable due to system maintenance. You can make withdrawals when the maintenance is complete.');\n        } else if (deposit_locked) {\n          header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Unable to process deposit in the moment');\n          message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Deposits are temporarily unavailable due to system maintenance. You can make deposits when the maintenance is complete.');\n        } else {\n          header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Scheduled cashier system maintenance');\n          message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Our cryptocurrency cashier is temporarily down due to system maintenance. You can make cryptocurrency deposits and withdrawals in a few minutes when the maintenance is complete.');\n        }\n      } else {\n        header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Scheduled cashier system maintenance');\n        message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Our cashier is temporarily down due to system maintenance. You can access the cashier in a few minutes when the maintenance is complete.');\n      }\n\n      return {\n        key: 'system_maintenance',\n        header: header,\n        message: message,\n        type: 'warning'\n      };\n    },\n    authenticate: {\n      key: 'authenticate',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your account has not been verified'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please submit your proof of identity and proof of address to verify your account in your account settings to access the cashier.'),\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to my account settings')\n      },\n      type: 'warning'\n    },\n    withdrawal_locked_review: {\n      key: 'withdrawal_locked_review',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your account has not been verified'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please submit your proof of identity and proof of address to verify your account in your account settings to access the cashier.'),\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to my account settings')\n      },\n      type: 'warning'\n    },\n    no_withdrawal_or_trading: {\n      key: 'no_withdrawal_or_trading',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You are only allowed to make deposits'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please contact us via live chat to enable withdrawals.'),\n      action: {\n        onClick: function onClick() {\n          window.LC_API.open_chat_window();\n        },\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to live chat')\n      },\n      type: 'warning'\n    },\n    withdrawal_locked: {\n      key: 'withdrawal_locked',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You are only allowed to make deposits'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please contact us via live chat to enable withdrawals.'),\n      action: {\n        onClick: function onClick() {\n          window.LC_API.open_chat_window();\n        },\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to live chat')\n      },\n      type: 'warning'\n    },\n    mt5_withdrawal_locked: {\n      key: 'mt5_withdrawal_locked',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('MT5 withdrawal disabled'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('MT5 withdrawals have been disabled on your account. Please check your email for more details.'),\n      type: 'warning'\n    },\n    ask_financial_risk_approval: {\n      key: 'ask_financial_risk_approval',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Complete your Appropriateness Test'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please click the following link to complete your Appropriateness Test.'),\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.financial_assessment,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Click here')\n      },\n      type: 'warning'\n    },\n    document_needs_action: {\n      key: 'document_needs_action',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Authentication failed'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"<0>Your Proof of Identity or Proof of Address</0> did not meet our requirements. Please check your email for further instructions.\",\n        components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(App_Components_Routes__WEBPACK_IMPORTED_MODULE_4__.BinaryLink, {\n          key: 0,\n          className: \"link\",\n          to: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity\n        })]\n      }),\n      type: 'warning'\n    },\n    unwelcome: {\n      key: 'unwelcome',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Deposits are locked'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please contact us via live chat.'),\n      action: {\n        onClick: function onClick() {\n          window.LC_API.open_chat_window();\n        },\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to live chat')\n      },\n      type: 'danger'\n    },\n    max_turnover_limit_not_set: {\n      key: 'max_turnover_limit_not_set',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Youve not set your 30-day turnover limit'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your access to the cashier has been temporarily disabled as you have not set your 30-day turnover limit. Please go to Self-exclusion and set the limit.'),\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.self_exclusion,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to Self-exclusion')\n      },\n      type: 'danger'\n    },\n    risk: {\n      key: 'risk',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your cashier is locked'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please complete the financial assessment in your account settings to unlock it.'),\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.financial_assessment,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to my account settings')\n      },\n      type: 'warning'\n    },\n    tax: {\n      key: 'tax',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You have not provided your tax identification number'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('This information is necessary for legal and regulatory requirements. Please go to your account settings, and fill in your latest tax identification number.'),\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.personal_details,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to my account settings')\n      },\n      type: 'danger'\n    },\n    tnc: {\n      action: {\n        onClick: function () {\n          var _onClick = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return Services__WEBPACK_IMPORTED_MODULE_5__.WS.tncApproval();\n\n                  case 2:\n                    Services__WEBPACK_IMPORTED_MODULE_5__.WS.getSettings();\n\n                  case 3:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          function onClick() {\n            return _onClick.apply(this, arguments);\n          }\n\n          return onClick;\n        }(),\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('I accept')\n      },\n      key: 'tnc',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Terms & conditions updated'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"Please accept our <0>updated Terms and Conditions</0> to proceed.\",\n        components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_2__.StaticUrl, {\n          key: 0,\n          className: \"link\",\n          href: \"terms-and-conditions\"\n        })]\n      }),\n      type: 'warning'\n    },\n    required_fields: function required_fields(withdrawal_locked, deposit_locked) {\n      var message;\n\n      if (withdrawal_locked) {\n        message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please go to your account settings and complete your personal details to enable withdrawals.');\n      } else if (deposit_locked) {\n        message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please go to your account settings and complete your personal details to enable deposits.');\n      } else {\n        message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please go to your account settings and complete your personal details to enable deposits and withdrawals.');\n      }\n\n      return {\n        key: 'required_fields',\n        header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your personal details are incomplete'),\n        message: message,\n        type: 'danger',\n        action: {\n          route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.personal_details,\n          text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Go to my account settings')\n        }\n      };\n    },\n    you_are_offline: {\n      key: 'you_are_offline',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You are offline'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"Check your connection.\"\n      }),\n      type: 'danger'\n    },\n    password_changed: {\n      key: 'password_changed',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Password updated.'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"Please log in with your updated password.\"\n      }),\n      type: 'info'\n    },\n    reset_virtual_balance: {\n      key: 'reset_virtual_balance',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Reset your balance'),\n      message: client.message,\n      type: 'info',\n      is_persistent: true,\n      should_show_again: true,\n      platform: [_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.platform_name.DTrader],\n      is_disposable: true,\n      action: {\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Reset balance'),\n        onClick: function () {\n          var _onClick2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n            return regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return client.resetVirtualBalance();\n\n                  case 2:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          function onClick() {\n            return _onClick2.apply(this, arguments);\n          }\n\n          return onClick;\n        }()\n      }\n    },\n    needs_poi: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Verify identity')\n      },\n      key: 'needs_poi',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please verify your proof of identity'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('To continue trading with us, please confirm who you are.'),\n      type: 'danger'\n    },\n    needs_poa: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_address,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Verify address')\n      },\n      key: 'needs_poa',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please verify your proof of address'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('To continue trading with us, please confirm where you live.'),\n      type: 'danger'\n    },\n    needs_poi_virtual: {\n      action: {\n        onClick: function () {\n          var _onClick3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n            var switchAccount, first_switchable_real_loginid;\n            return regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    switchAccount = client.switchAccount, first_switchable_real_loginid = client.first_switchable_real_loginid;\n                    _context3.next = 3;\n                    return switchAccount(first_switchable_real_loginid);\n\n                  case 3:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3);\n          }));\n\n          function onClick() {\n            return _onClick3.apply(this, arguments);\n          }\n\n          return onClick;\n        }(),\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Verify identity')\n      },\n      key: 'needs_poi_virtual',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please Verify your identity'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('We couldnt verify your personal details with our records, to enable deposit, withdrawals and trading, you need to upload proof of your identity.'),\n      type: 'danger'\n    },\n    needs_poa_virtual: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_address,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Verify address')\n      },\n      key: 'needs_poa_virtual',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please Verify your address'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('We couldnt verify your personal details with our records, to enable deposit, withdrawals and trading, you need to upload proof of your address.'),\n      type: 'danger'\n    },\n    documents_expired: {\n      key: 'poi_expired',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You submitted expired identification documents'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please submit valid identity documents to unlock the cashier.'),\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Submit identity documents')\n      },\n      type: 'danger'\n    },\n    new_version_available: {\n      action: {\n        onClick: function onClick() {\n          return window.location.reload();\n        },\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Refresh now')\n      },\n      key: 'new_version_available',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('A new version of Deriv is available'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('This page will automatically refresh in 5 minutes to load the latest version.'),\n      type: 'warning',\n      should_hide_close_btn: true,\n      timeout: 300000,\n      timeoutMessage: function timeoutMessage(remaining) {\n        return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Auto update in {{ remaining }} seconds', {\n          remaining: remaining\n        });\n      }\n    },\n    install_pwa: {\n      key: 'install_pwa',\n      action: {\n        onClick: function onClick() {\n          return ui.installWithDeferredPrompt();\n        },\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Install')\n      },\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Install the DTrader web app'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Launch DTrader in seconds the next time you want to trade.'),\n      type: 'announce',\n      should_hide_close_btn: false\n    },\n    ask_uk_funds_protection: {\n      key: 'ask_uk_funds_protection',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your cashier is locked'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('See how we protect your funds to unlock the cashier.'),\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Find out more')\n      },\n      type: 'warning'\n    },\n    deriv_go: {\n      key: 'deriv_go',\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"Get a faster mobile trading experience with the <0>Deriv GO</0> app!\",\n        components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_2__.StaticUrl, {\n          key: 0,\n          className: \"link dark\",\n          href: \"/landing/deriv-go\"\n        })]\n      }),\n      cta_btn: {\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Learn more'),\n        onClick: function onClick() {\n          window.open((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getStaticUrl)('/landing/deriv-go'), '_blank');\n        }\n      },\n      img_src: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getUrlBase)('/public/images/common/derivgo_banner.png'),\n      img_alt: 'deriv_go',\n      type: 'promotions'\n    }\n  };\n  return notifications;\n};\n\nvar hasMissingRequiredField = function hasMissingRequiredField(account_settings, client, isAccountOfType) {\n  if (!account_settings || (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject)(account_settings)) return false;\n  var is_svg = client.is_svg,\n      landing_company_shortcode = client.landing_company_shortcode; // TODO: [deriv-eu] refactor into its own function once more exceptions are added.\n\n  var required_fields;\n\n  if (is_svg) {\n    required_fields = getSVGRequiredFields();\n  } else {\n    required_fields = getRequiredFields();\n  }\n\n  return required_fields.some(function (field) {\n    return !account_settings[field];\n  });\n\n  function getSVGRequiredFields() {\n    var necessary_withdrawal_fields = _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.State.getResponse('landing_company.financial_company.requirements.withdrawal') || [];\n    var necessary_signup_fields = _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.State.getResponse('landing_company.financial_company.requirements.signup');\n    var necessary_signup_fields_mapped = necessary_signup_fields ? necessary_signup_fields.map(function (field) {\n      return field === 'residence' ? 'country' : field;\n    }) : [];\n    return [].concat(_toConsumableArray(necessary_withdrawal_fields), _toConsumableArray(necessary_signup_fields_mapped));\n  }\n\n  function getRequiredFields() {\n    if (!isAccountOfType('financial')) return [];\n    var residence = client.residence;\n    var required_settings_fields = ['account_opening_reason', 'address_line_1', 'address_city', 'phone', 'tax_identification_number', 'tax_residence'];\n    var address_postcode_is_required = residence === 'gb' || landing_company_shortcode === 'iom';\n    if (address_postcode_is_required) required_settings_fields.push('address_postcode');\n    return [].concat(required_settings_fields);\n  }\n};\n\nvar getStatusValidations = function getStatusValidations(status_arr) {\n  return status_arr.reduce(function (validations, stats) {\n    validations[stats] = true;\n    return validations;\n  }, {});\n};\n\nvar getCashierValidations = function getCashierValidations(cashier_arr) {\n  return cashier_arr.reduce(function (validations, code) {\n    validations[code] = true;\n    return validations;\n  }, {});\n};\n\nvar addVerificationNotifications = function addVerificationNotifications(identity, document, addNotificationMessage) {\n  if (identity.status === 'expired') addNotificationMessage(clientNotifications().poi_expired);\n  if (document.status === 'expired') addNotificationMessage(clientNotifications().poa_expired);\n};\n\nvar checkAccountStatus = function checkAccountStatus(account_status, client, addNotificationMessage, loginid, getRiskAssessment, isAccountOfType, ui_store, is_10k_withdrawal_limit_reached) {\n  if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject)(account_status)) return {};\n  if (loginid !== _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.get('active_loginid')) return {};\n  var _account_status$authe = account_status.authentication,\n      document = _account_status$authe.document,\n      identity = _account_status$authe.identity,\n      needs_verification = _account_status$authe.needs_verification,\n      status = account_status.status,\n      cashier_validation = account_status.cashier_validation;\n\n  var _getStatusValidations = getStatusValidations(status),\n      cashier_locked = _getStatusValidations.cashier_locked,\n      withdrawal_locked = _getStatusValidations.withdrawal_locked,\n      deposit_locked = _getStatusValidations.deposit_locked,\n      mt5_withdrawal_locked = _getStatusValidations.mt5_withdrawal_locked,\n      document_needs_action = _getStatusValidations.document_needs_action;\n\n  var _ref = cashier_validation ? getCashierValidations(cashier_validation) : {},\n      system_maintenance = _ref.system_maintenance,\n      is_virtual = _ref.is_virtual,\n      no_residence = _ref.no_residence,\n      documents_expired = _ref.documents_expired,\n      unwelcome_status = _ref.unwelcome_status,\n      no_withdrawal_or_trading_status = _ref.no_withdrawal_or_trading_status,\n      withdrawal_locked_status = _ref.withdrawal_locked_status,\n      cashier_locked_status = _ref.cashier_locked_status,\n      FinancialAssessmentRequired = _ref.FinancialAssessmentRequired,\n      SelfExclusion = _ref.SelfExclusion,\n      ASK_CURRENCY = _ref.ASK_CURRENCY,\n      ASK_AUTHENTICATE = _ref.ASK_AUTHENTICATE,\n      ASK_FINANCIAL_RISK_APPROVAL = _ref.ASK_FINANCIAL_RISK_APPROVAL,\n      ASK_TIN_INFORMATION = _ref.ASK_TIN_INFORMATION,\n      ASK_SELF_EXCLUSION_MAX_TURNOVER_SET = _ref.ASK_SELF_EXCLUSION_MAX_TURNOVER_SET,\n      ASK_FIX_DETAILS = _ref.ASK_FIX_DETAILS,\n      ASK_UK_FUNDS_PROTECTION = _ref.ASK_UK_FUNDS_PROTECTION;\n\n  addVerificationNotifications(identity, document, addNotificationMessage);\n  var has_risk_assessment = getRiskAssessment(account_status);\n  var needs_poa = is_10k_withdrawal_limit_reached && (needs_verification.includes('document') || (document === null || document === void 0 ? void 0 : document.status) !== 'verified');\n  var needs_poi = is_10k_withdrawal_limit_reached && (identity === null || identity === void 0 ? void 0 : identity.status) !== 'verified';\n  if (needs_poa) addNotificationMessage(clientNotifications().needs_poa);\n  if (needs_poi) addNotificationMessage(clientNotifications().needs_poi);\n\n  if (system_maintenance) {\n    addNotificationMessage(clientNotifications({}, client).system_maintenance(withdrawal_locked, deposit_locked));\n  } else if (cashier_locked) {\n    if (is_virtual) {\n      addNotificationMessage(clientNotifications().is_virtual);\n    } else if (no_residence) {\n      addNotificationMessage(clientNotifications().no_residence);\n    } else if (documents_expired) {\n      addNotificationMessage(clientNotifications().documents_expired);\n    } else if (cashier_locked_status) {\n      addNotificationMessage(clientNotifications().cashier_locked);\n    } else if (ASK_CURRENCY) {\n      addNotificationMessage(clientNotifications(ui_store).currency);\n    } else if (ASK_AUTHENTICATE) {\n      addNotificationMessage(clientNotifications().authenticate);\n    } else if (isAccountOfType('financial') && ASK_FINANCIAL_RISK_APPROVAL) {\n      addNotificationMessage(clientNotifications().ask_financial_risk_approval);\n    } else if (FinancialAssessmentRequired) {\n      addNotificationMessage(clientNotifications().risk);\n    } else if (isAccountOfType('financial') && ASK_TIN_INFORMATION) {\n      addNotificationMessage(clientNotifications().tax);\n    } else if (ASK_UK_FUNDS_PROTECTION) {\n      addNotificationMessage(clientNotifications().ask_uk_funds_protection);\n    } else if (ASK_SELF_EXCLUSION_MAX_TURNOVER_SET) {\n      addNotificationMessage(clientNotifications().max_turnover_limit_not_set);\n    } else if (ASK_FIX_DETAILS) {\n      addNotificationMessage(clientNotifications().required_fields(withdrawal_locked, deposit_locked));\n    } else {\n      addNotificationMessage(clientNotifications().cashier_locked);\n    }\n  } else {\n    if (withdrawal_locked && ASK_AUTHENTICATE) {\n      addNotificationMessage(clientNotifications().withdrawal_locked_review);\n    } else if (withdrawal_locked && no_withdrawal_or_trading_status) {\n      addNotificationMessage(clientNotifications().no_withdrawal_or_trading);\n    } else if (withdrawal_locked && withdrawal_locked_status) {\n      addNotificationMessage(clientNotifications().withdrawal_locked);\n    } else if (withdrawal_locked && ASK_FIX_DETAILS) {\n      addNotificationMessage(clientNotifications().required_fields(withdrawal_locked, deposit_locked));\n    }\n\n    if (deposit_locked && SelfExclusion) {\n      addNotificationMessage(clientNotifications().self_exclusion(client.excluded_until));\n    } else if (deposit_locked && unwelcome_status) {\n      addNotificationMessage(clientNotifications().unwelcome);\n    }\n  }\n\n  if (mt5_withdrawal_locked) addNotificationMessage(clientNotifications().mt5_withdrawal_locked);\n  if (document_needs_action) addNotificationMessage(clientNotifications().document_needs_action);\n  return {\n    has_risk_assessment: has_risk_assessment\n  };\n};\n\nvar excluded_notifications = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isMobile)() ? ['contract_sold'] : ['you_are_offline', 'password_changed', 'switch_to_tick_chart', 'contract_sold', 'maintenance', 'bot_switch_account', 'new_version_available'];\nvar handleClientNotifications = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(client, client_store, ui_store, cashier_store, common_store) {\n    var account_settings, account_status, getRiskAssessment, is_eu, is_uk, has_malta_account, can_have_mlt_account, has_iom_account, is_logged_in, is_tnc_needed, isAccountOfType, loginid, addNotificationMessage, removeNotificationMessageByKey, is_10k_withdrawal_limit_reached, is_p2p_visible, current_language, selected_contract_type, has_missing_required_field, has_risk_assessment, hidden_close_account_notification, _getStatusValidations2, withdrawal_locked, deposit_locked, _checkAccountStatus;\n\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            account_settings = client_store.account_settings, account_status = client_store.account_status, getRiskAssessment = client_store.getRiskAssessment, is_eu = client_store.is_eu, is_uk = client_store.is_uk, has_malta_account = client_store.has_malta_account, can_have_mlt_account = client_store.can_have_mlt_account, has_iom_account = client_store.has_iom_account, is_logged_in = client_store.is_logged_in, is_tnc_needed = client_store.is_tnc_needed, isAccountOfType = client_store.isAccountOfType, loginid = client_store.loginid;\n            addNotificationMessage = ui_store.addNotificationMessage, removeNotificationMessageByKey = ui_store.removeNotificationMessageByKey;\n            is_10k_withdrawal_limit_reached = cashier_store.is_10k_withdrawal_limit_reached, is_p2p_visible = cashier_store.is_p2p_visible;\n            current_language = common_store.current_language, selected_contract_type = common_store.selected_contract_type;\n            hidden_close_account_notification = parseInt(localStorage.getItem('hide_close_mx_mlt_account_notification')) === 1;\n            _getStatusValidations2 = getStatusValidations(account_status.status || []), withdrawal_locked = _getStatusValidations2.withdrawal_locked, deposit_locked = _getStatusValidations2.deposit_locked;\n\n            if (!(loginid !== _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.get('active_loginid'))) {\n              _context4.next = 8;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", {});\n\n          case 8:\n            if ((has_iom_account || has_malta_account) && is_logged_in && !hidden_close_account_notification) {\n              addNotificationMessage(clientNotifications(ui_store, {}, is_uk, has_malta_account, can_have_mlt_account).close_mx_mlt_account);\n            }\n\n            if (client && !client.is_virtual) {\n              _checkAccountStatus = checkAccountStatus(account_status, client, addNotificationMessage, loginid, getRiskAssessment, isAccountOfType, ui_store, is_10k_withdrawal_limit_reached);\n              has_risk_assessment = _checkAccountStatus.has_risk_assessment;\n\n              if (is_p2p_visible) {\n                addNotificationMessage(clientNotifications().dp2p);\n              } else {\n                removeNotificationMessageByKey({\n                  key: clientNotifications().dp2p.key\n                });\n              }\n\n              if (is_tnc_needed) addNotificationMessage(clientNotifications(ui_store).tnc);\n              has_missing_required_field = hasMissingRequiredField(account_settings, client, isAccountOfType);\n\n              if (has_missing_required_field) {\n                addNotificationMessage(clientNotifications(ui_store).required_fields(withdrawal_locked, deposit_locked));\n              }\n            }\n\n            if (!is_eu && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isMultiplierContract)(selected_contract_type) && current_language === 'EN' && is_logged_in) {\n              addNotificationMessage(clientNotifications().deriv_go);\n            } else {\n              removeNotificationMessageByKey({\n                key: clientNotifications().deriv_go.key\n              });\n            }\n\n            return _context4.abrupt(\"return\", {\n              has_missing_required_field: has_missing_required_field,\n              has_risk_assessment: has_risk_assessment\n            });\n\n          case 12:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function handleClientNotifications(_x, _x2, _x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvSGVscGVycy9jbGllbnQtbm90aWZpY2F0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUdBOztBQUNBOztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBWkE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUZBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFsQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBVkE7QUFZQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFLQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFFQTs7QUFGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUlBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQUtBO0FBaEJBO0FBa0JBO0FBQ0E7O0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFGQTtBQVRBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFLQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBR0E7QUFkQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFoQkE7QUExWkE7QUE2YUE7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFBQTs7QUFHQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBVUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQW9CQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QUFHQTs7QUFFQTtBQVlBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBYUE7QUFDQTtBQUNBO0FBR0E7QUFwQkE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUEwQkE7QUFDQTtBQUdBOztBQUVBO0FBQUE7QUFDQTs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQTdEQTtBQWdFQTtBQUNBO0FBRkE7O0FBL0RBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vU3RvcmVzL0hlbHBlcnMvY2xpZW50LW5vdGlmaWNhdGlvbnMuanM/ZjFhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgICBmb3JtYXREYXRlLFxuICAgIGdldFN0YXRpY1VybCxcbiAgICBnZXRVcmxCYXNlLFxuICAgIGlzQ3J5cHRvY3VycmVuY3ksXG4gICAgaXNFbXB0eU9iamVjdCxcbiAgICBpc01vYmlsZSxcbiAgICBpc011bHRpcGxpZXJDb250cmFjdCxcbiAgICBMb2NhbFN0b3JlLFxuICAgIHBsYXRmb3JtX25hbWUsXG4gICAgcm91dGVzLFxuICAgIFN0YXRlLFxufSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IFN0YXRpY1VybCB9IGZyb20gJ0BkZXJpdi9jb21wb25lbnRzJztcbmltcG9ydCB7IGxvY2FsaXplLCBMb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IHsgQmluYXJ5TGluayB9IGZyb20gJ0FwcC9Db21wb25lbnRzL1JvdXRlcyc7XG5pbXBvcnQgeyBXUyB9IGZyb20gJ1NlcnZpY2VzJztcblxuLy8gVE9ETzogVXBkYXRlIGxpbmtzIHRvIGFwcF8yIGxpbmtzIHdoZW4gY29tcG9uZW50cyBhcmUgZG9uZS5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L2pzeC1uby10YXJnZXQtYmxhbmsgKi9cbmV4cG9ydCBjb25zdCBjbGllbnROb3RpZmljYXRpb25zID0gKHVpID0ge30sIGNsaWVudCA9IHt9LCBpc191aywgaGFzX21hbHRhX2FjY291bnQsIGNhbl9oYXZlX21sdF9hY2NvdW50KSA9PiB7XG4gICAgY29uc3QgTXhNbHROb3RpZmljYXRpb25IZWFkZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChoYXNfbWFsdGFfYWNjb3VudCB8fCBjYW5faGF2ZV9tbHRfYWNjb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplKCdZb3VyIE9wdGlvbnMgYWNjb3VudCBpcyBzY2hlZHVsZWQgdG8gYmUgY2xvc2VkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNfdWspIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZSgnWW91ciBHYW1pbmcgYWNjb3VudCBpcyBzY2hlZHVsZWQgdG8gYmUgY2xvc2VkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsaXplKCdZb3VyIGFjY291bnQgaXMgc2NoZWR1bGVkIHRvIGJlIGNsb3NlZCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBNeE1sdE5vdGlmaWNhdGlvblRleHQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChoYXNfbWFsdGFfYWNjb3VudCB8fCBjYW5faGF2ZV9tbHRfYWNjb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplKCdXaXRoZHJhdyBhbGwgZnVuZHMgZnJvbSB5b3VyIE9wdGlvbnMgYWNjb3VudC4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxpemUoJ1BsZWFzZSBwcm9jZWVkIHRvIHdpdGhkcmF3IHlvdXIgZnVuZHMgYmVmb3JlIDMwIE5vdmVtYmVyIDIwMjEuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSB7XG4gICAgICAgIGRwMnA6IHtcbiAgICAgICAgICAgIGtleTogJ2RwMnAnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnUGF5bWVudCBwcm9ibGVtcz8nKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdUaGVyZeKAmXMgYW4gYXBwIGZvciB0aGF0JyksXG4gICAgICAgICAgICBwcmltYXJ5X2J0bjoge1xuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdMZWFybiBtb3JlJyksXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihnZXRTdGF0aWNVcmwoJy9wMnAnKSwgJ19ibGFuaycpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW1nX3NyYzogZ2V0VXJsQmFzZSgnL3B1YmxpYy9pbWFnZXMvY29tbW9uL2RwMnBfYmFubmVyLnBuZycpLFxuICAgICAgICAgICAgaW1nX2FsdDogJ0Rlcml2IFAyUCcsXG4gICAgICAgICAgICB0eXBlOiAnbmV3cycsXG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlX214X21sdF9hY2NvdW50OiB7XG4gICAgICAgICAgICBrZXk6ICdjbG9zZV9teF9tbHRfYWNjb3VudCcsXG4gICAgICAgICAgICBoZWFkZXI6IE14TWx0Tm90aWZpY2F0aW9uSGVhZGVyKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBNeE1sdE5vdGlmaWNhdGlvblRleHQoKSxcbiAgICAgICAgICAgIHNlY29uZGFyeV9idG46IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnTGVhcm4gbW9yZScpLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdWkuc2hvd0Nsb3NlTXhNbHRBY2NvdW50UG9wdXAodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbWdfc3JjOiBnZXRVcmxCYXNlKCcvcHVibGljL2ltYWdlcy9jb21tb24vY2xvc2VfYWNjb3VudF9iYW5uZXIucG5nJyksXG4gICAgICAgICAgICBpbWdfYWx0OiAnY2xvc2UgbXggbWx0IGFjY291bnQnLFxuICAgICAgICAgICAgdHlwZTogJ2Nsb3NlX214X21sdCcsXG4gICAgICAgIH0sXG4gICAgICAgIGlzX3ZpcnR1YWw6IHtcbiAgICAgICAgICAgIGtleTogJ2lzX3ZpcnR1YWwnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91IGFyZSBvbiB5b3VyIGRlbW8gYWNjb3VudCcpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ1BsZWFzZSBzd2l0Y2ggdG8geW91ciByZWFsIGFjY291bnQgb3IgY3JlYXRlIG9uZSB0byBhY2Nlc3MgdGhlIGNhc2hpZXIuJyksXG4gICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgIH0sXG4gICAgICAgIG5vX3Jlc2lkZW5jZToge1xuICAgICAgICAgICAga2V5OiAnbm9fcmVzaWRlbmNlJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdSBoYXZlIG5vdCBzZWxlY3RlZCB5b3VyIGNvdW50cnkgb2YgcmVzaWRlbmNlJyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnUGxlYXNlIHNldCB5b3VyIGNvdW50cnkgb2YgcmVzaWRlbmNlIGluIHlvdXIgYWNjb3VudCBzZXR0aW5ncyB0byBhY2Nlc3MgdGhlIGNhc2hpZXIuJyksXG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnBlcnNvbmFsX2RldGFpbHMsXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0dvIHRvIG15IGFjY291bnQgc2V0dGluZ3MnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbmN5OiB7XG4gICAgICAgICAgICBrZXk6ICdjdXJyZW5jeScsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdZb3UgaGF2ZSBub3Qgc2VsZWN0ZWQgeW91ciBhY2NvdW50IGN1cnJlbmN5JyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnUGxlYXNlIHNldCB5b3VyIGFjY291bnQgY3VycmVuY3kgdG8gZW5hYmxlIGRlcG9zaXRzIGFuZCB3aXRoZHJhd2Fscy4nKSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdWkub3BlblJlYWxBY2NvdW50U2lnbnVwKCdzZXRfY3VycmVuY3knKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdTZXQgbXkgYWNjb3VudCBjdXJyZW5jeScpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICB9LFxuICAgICAgICBzZWxmX2V4Y2x1c2lvbjogZXhjbHVkZWRfdW50aWwgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdzZWxmX2V4Y2x1c2lvbicsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91IGhhdmUgc2VsZi1leGNsdWRlZCBmcm9tIHRyYWRpbmcnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAoXG4gICAgICAgICAgICAgICAgICAgIDxMb2NhbGl6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaTE4bl9kZWZhdWx0X3RleHQ9J1lvdSBoYXZlIGNob3NlbiB0byBleGNsdWRlIHlvdXJzZWxmIGZyb20gdHJhZGluZyBvbiBvdXIgd2Vic2l0ZSB1bnRpbCB7e2V4Y2x1c2lvbl9lbmR9fS4gSWYgeW91IGFyZSB1bmFibGUgdG8gcGxhY2UgYSB0cmFkZSBvciBkZXBvc2l0IGFmdGVyIHlvdXIgc2VsZi1leGNsdXNpb24gcGVyaW9kLCBwbGVhc2UgY29udGFjdCB1cyB2aWEgbGl2ZSBjaGF0LidcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2x1c2lvbl9lbmQ6IGZvcm1hdERhdGUoZXhjbHVkZWRfdW50aWwsICdERCBNTU0sIFlZWVknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uOiB7IGVzY2FwZVZhbHVlOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuTENfQVBJLm9wZW5fY2hhdF93aW5kb3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0dvIHRvIGxpdmUgY2hhdCcpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBjYXNoaWVyX2xvY2tlZDoge1xuICAgICAgICAgICAga2V5OiAnY2FzaGllcl9sb2NrZWQnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91ciBjYXNoaWVyIGlzIGN1cnJlbnRseSBsb2NrZWQnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdQbGVhc2UgY29udGFjdCB1cyB2aWEgbGl2ZSBjaGF0IHRvIHVubG9jayBpdC4nKSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LkxDX0FQSS5vcGVuX2NoYXRfd2luZG93KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnR28gdG8gbGl2ZSBjaGF0JyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICBzeXN0ZW1fbWFpbnRlbmFuY2U6ICh3aXRoZHJhd2FsX2xvY2tlZCwgZGVwb3NpdF9sb2NrZWQpID0+IHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlLCBoZWFkZXI7XG4gICAgICAgICAgICBpZiAoaXNDcnlwdG9jdXJyZW5jeShjbGllbnQuY3VycmVuY3kpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpdGhkcmF3YWxfbG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IGxvY2FsaXplKCdVbmFibGUgdG8gcHJvY2VzcyB3aXRoZHJhd2FscyBpbiB0aGUgbW9tZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdXaXRoZHJhd2FscyBhcmUgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUgZHVlIHRvIHN5c3RlbSBtYWludGVuYW5jZS4gWW91IGNhbiBtYWtlIHdpdGhkcmF3YWxzIHdoZW4gdGhlIG1haW50ZW5hbmNlIGlzIGNvbXBsZXRlLidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRlcG9zaXRfbG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IGxvY2FsaXplKCdVbmFibGUgdG8gcHJvY2VzcyBkZXBvc2l0IGluIHRoZSBtb21lbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0RlcG9zaXRzIGFyZSB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZSBkdWUgdG8gc3lzdGVtIG1haW50ZW5hbmNlLiBZb3UgY2FuIG1ha2UgZGVwb3NpdHMgd2hlbiB0aGUgbWFpbnRlbmFuY2UgaXMgY29tcGxldGUuJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IGxvY2FsaXplKCdTY2hlZHVsZWQgY2FzaGllciBzeXN0ZW0gbWFpbnRlbmFuY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ091ciBjcnlwdG9jdXJyZW5jeSBjYXNoaWVyIGlzIHRlbXBvcmFyaWx5IGRvd24gZHVlIHRvIHN5c3RlbSBtYWludGVuYW5jZS4gWW91IGNhbiBtYWtlIGNyeXB0b2N1cnJlbmN5IGRlcG9zaXRzIGFuZCB3aXRoZHJhd2FscyBpbiBhIGZldyBtaW51dGVzIHdoZW4gdGhlIG1haW50ZW5hbmNlIGlzIGNvbXBsZXRlLidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhlYWRlciA9IGxvY2FsaXplKCdTY2hlZHVsZWQgY2FzaGllciBzeXN0ZW0gbWFpbnRlbmFuY2UnKTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICdPdXIgY2FzaGllciBpcyB0ZW1wb3JhcmlseSBkb3duIGR1ZSB0byBzeXN0ZW0gbWFpbnRlbmFuY2UuIFlvdSBjYW4gYWNjZXNzIHRoZSBjYXNoaWVyIGluIGEgZmV3IG1pbnV0ZXMgd2hlbiB0aGUgbWFpbnRlbmFuY2UgaXMgY29tcGxldGUuJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleTogJ3N5c3RlbV9tYWludGVuYW5jZScsXG4gICAgICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiB7XG4gICAgICAgICAgICBrZXk6ICdhdXRoZW50aWNhdGUnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91ciBhY2NvdW50IGhhcyBub3QgYmVlbiB2ZXJpZmllZCcpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ1BsZWFzZSBzdWJtaXQgeW91ciBwcm9vZiBvZiBpZGVudGl0eSBhbmQgcHJvb2Ygb2YgYWRkcmVzcyB0byB2ZXJpZnkgeW91ciBhY2NvdW50IGluIHlvdXIgYWNjb3VudCBzZXR0aW5ncyB0byBhY2Nlc3MgdGhlIGNhc2hpZXIuJ1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMucHJvb2Zfb2ZfaWRlbnRpdHksXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0dvIHRvIG15IGFjY291bnQgc2V0dGluZ3MnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgIH0sXG4gICAgICAgIHdpdGhkcmF3YWxfbG9ja2VkX3Jldmlldzoge1xuICAgICAgICAgICAga2V5OiAnd2l0aGRyYXdhbF9sb2NrZWRfcmV2aWV3JyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdXIgYWNjb3VudCBoYXMgbm90IGJlZW4gdmVyaWZpZWQnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICdQbGVhc2Ugc3VibWl0IHlvdXIgcHJvb2Ygb2YgaWRlbnRpdHkgYW5kIHByb29mIG9mIGFkZHJlc3MgdG8gdmVyaWZ5IHlvdXIgYWNjb3VudCBpbiB5b3VyIGFjY291bnQgc2V0dGluZ3MgdG8gYWNjZXNzIHRoZSBjYXNoaWVyLidcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnByb29mX29mX2lkZW50aXR5LFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdHbyB0byBteSBhY2NvdW50IHNldHRpbmdzJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICBub193aXRoZHJhd2FsX29yX3RyYWRpbmc6IHtcbiAgICAgICAgICAgIGtleTogJ25vX3dpdGhkcmF3YWxfb3JfdHJhZGluZycsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdZb3UgYXJlIG9ubHkgYWxsb3dlZCB0byBtYWtlIGRlcG9zaXRzJyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnUGxlYXNlIGNvbnRhY3QgdXMgdmlhIGxpdmUgY2hhdCB0byBlbmFibGUgd2l0aGRyYXdhbHMuJyksXG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5MQ19BUEkub3Blbl9jaGF0X3dpbmRvdygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0dvIHRvIGxpdmUgY2hhdCcpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgfSxcbiAgICAgICAgd2l0aGRyYXdhbF9sb2NrZWQ6IHtcbiAgICAgICAgICAgIGtleTogJ3dpdGhkcmF3YWxfbG9ja2VkJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdSBhcmUgb25seSBhbGxvd2VkIHRvIG1ha2UgZGVwb3NpdHMnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdQbGVhc2UgY29udGFjdCB1cyB2aWEgbGl2ZSBjaGF0IHRvIGVuYWJsZSB3aXRoZHJhd2Fscy4nKSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LkxDX0FQSS5vcGVuX2NoYXRfd2luZG93KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnR28gdG8gbGl2ZSBjaGF0JyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICBtdDVfd2l0aGRyYXdhbF9sb2NrZWQ6IHtcbiAgICAgICAgICAgIGtleTogJ210NV93aXRoZHJhd2FsX2xvY2tlZCcsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdNVDUgd2l0aGRyYXdhbCBkaXNhYmxlZCcpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ01UNSB3aXRoZHJhd2FscyBoYXZlIGJlZW4gZGlzYWJsZWQgb24geW91ciBhY2NvdW50LiBQbGVhc2UgY2hlY2sgeW91ciBlbWFpbCBmb3IgbW9yZSBkZXRhaWxzLidcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgIH0sXG4gICAgICAgIGFza19maW5hbmNpYWxfcmlza19hcHByb3ZhbDoge1xuICAgICAgICAgICAga2V5OiAnYXNrX2ZpbmFuY2lhbF9yaXNrX2FwcHJvdmFsJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ0NvbXBsZXRlIHlvdXIgQXBwcm9wcmlhdGVuZXNzIFRlc3QnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdQbGVhc2UgY2xpY2sgdGhlIGZvbGxvd2luZyBsaW5rIHRvIGNvbXBsZXRlIHlvdXIgQXBwcm9wcmlhdGVuZXNzIFRlc3QuJyksXG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLmZpbmFuY2lhbF9hc3Nlc3NtZW50LFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdDbGljayBoZXJlJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICBkb2N1bWVudF9uZWVkc19hY3Rpb246IHtcbiAgICAgICAgICAgIGtleTogJ2RvY3VtZW50X25lZWRzX2FjdGlvbicsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdBdXRoZW50aWNhdGlvbiBmYWlsZWQnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IChcbiAgICAgICAgICAgICAgICA8TG9jYWxpemVcbiAgICAgICAgICAgICAgICAgICAgaTE4bl9kZWZhdWx0X3RleHQ9JzwwPllvdXIgUHJvb2Ygb2YgSWRlbnRpdHkgb3IgUHJvb2Ygb2YgQWRkcmVzczwvMD4gZGlkIG5vdCBtZWV0IG91ciByZXF1aXJlbWVudHMuIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciBmdXJ0aGVyIGluc3RydWN0aW9ucy4nXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM9e1s8QmluYXJ5TGluayBrZXk9ezB9IGNsYXNzTmFtZT0nbGluaycgdG89e3JvdXRlcy5wcm9vZl9vZl9pZGVudGl0eX0gLz5dfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICB1bndlbGNvbWU6IHtcbiAgICAgICAgICAgIGtleTogJ3Vud2VsY29tZScsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdEZXBvc2l0cyBhcmUgbG9ja2VkJyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnUGxlYXNlIGNvbnRhY3QgdXMgdmlhIGxpdmUgY2hhdC4nKSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LkxDX0FQSS5vcGVuX2NoYXRfd2luZG93KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnR28gdG8gbGl2ZSBjaGF0JyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIG1heF90dXJub3Zlcl9saW1pdF9ub3Rfc2V0OiB7XG4gICAgICAgICAgICBrZXk6ICdtYXhfdHVybm92ZXJfbGltaXRfbm90X3NldCcsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdZb3XigJl2ZSBub3Qgc2V0IHlvdXIgMzAtZGF5IHR1cm5vdmVyIGxpbWl0JyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAnWW91ciBhY2Nlc3MgdG8gdGhlIGNhc2hpZXIgaGFzIGJlZW4gdGVtcG9yYXJpbHkgZGlzYWJsZWQgYXMgeW91IGhhdmUgbm90IHNldCB5b3VyIDMwLWRheSB0dXJub3ZlciBsaW1pdC4gUGxlYXNlIGdvIHRvIFNlbGYtZXhjbHVzaW9uIGFuZCBzZXQgdGhlIGxpbWl0LidcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnNlbGZfZXhjbHVzaW9uLFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdHbyB0byBTZWxmLWV4Y2x1c2lvbicpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICB9LFxuICAgICAgICByaXNrOiB7XG4gICAgICAgICAgICBrZXk6ICdyaXNrJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdXIgY2FzaGllciBpcyBsb2NrZWQnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdQbGVhc2UgY29tcGxldGUgdGhlIGZpbmFuY2lhbCBhc3Nlc3NtZW50IGluIHlvdXIgYWNjb3VudCBzZXR0aW5ncyB0byB1bmxvY2sgaXQuJyksXG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLmZpbmFuY2lhbF9hc3Nlc3NtZW50LFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdHbyB0byBteSBhY2NvdW50IHNldHRpbmdzJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICB0YXg6IHtcbiAgICAgICAgICAgIGtleTogJ3RheCcsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdZb3UgaGF2ZSBub3QgcHJvdmlkZWQgeW91ciB0YXggaWRlbnRpZmljYXRpb24gbnVtYmVyJyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAnVGhpcyBpbmZvcm1hdGlvbiBpcyBuZWNlc3NhcnkgZm9yIGxlZ2FsIGFuZCByZWd1bGF0b3J5IHJlcXVpcmVtZW50cy4gUGxlYXNlIGdvIHRvIHlvdXIgYWNjb3VudCBzZXR0aW5ncywgYW5kIGZpbGwgaW4geW91ciBsYXRlc3QgdGF4IGlkZW50aWZpY2F0aW9uIG51bWJlci4nXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlcy5wZXJzb25hbF9kZXRhaWxzLFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdHbyB0byBteSBhY2NvdW50IHNldHRpbmdzJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIHRuYzoge1xuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgb25DbGljazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBXUy50bmNBcHByb3ZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBXUy5nZXRTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0kgYWNjZXB0JyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5OiAndG5jJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1Rlcm1zICYgY29uZGl0aW9ucyB1cGRhdGVkJyksXG4gICAgICAgICAgICBtZXNzYWdlOiAoXG4gICAgICAgICAgICAgICAgPExvY2FsaXplXG4gICAgICAgICAgICAgICAgICAgIGkxOG5fZGVmYXVsdF90ZXh0PSdQbGVhc2UgYWNjZXB0IG91ciA8MD51cGRhdGVkIFRlcm1zIGFuZCBDb25kaXRpb25zPC8wPiB0byBwcm9jZWVkLidcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50cz17WzxTdGF0aWNVcmwga2V5PXswfSBjbGFzc05hbWU9J2xpbmsnIGhyZWY9J3Rlcm1zLWFuZC1jb25kaXRpb25zJyAvPl19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVkX2ZpZWxkczogKHdpdGhkcmF3YWxfbG9ja2VkLCBkZXBvc2l0X2xvY2tlZCkgPT4ge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAod2l0aGRyYXdhbF9sb2NrZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICdQbGVhc2UgZ28gdG8geW91ciBhY2NvdW50IHNldHRpbmdzIGFuZCBjb21wbGV0ZSB5b3VyIHBlcnNvbmFsIGRldGFpbHMgdG8gZW5hYmxlIHdpdGhkcmF3YWxzLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXBvc2l0X2xvY2tlZCkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgJ1BsZWFzZSBnbyB0byB5b3VyIGFjY291bnQgc2V0dGluZ3MgYW5kIGNvbXBsZXRlIHlvdXIgcGVyc29uYWwgZGV0YWlscyB0byBlbmFibGUgZGVwb3NpdHMuJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgJ1BsZWFzZSBnbyB0byB5b3VyIGFjY291bnQgc2V0dGluZ3MgYW5kIGNvbXBsZXRlIHlvdXIgcGVyc29uYWwgZGV0YWlscyB0byBlbmFibGUgZGVwb3NpdHMgYW5kIHdpdGhkcmF3YWxzLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdyZXF1aXJlZF9maWVsZHMnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdXIgcGVyc29uYWwgZGV0YWlscyBhcmUgaW5jb21wbGV0ZScpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMucGVyc29uYWxfZGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0dvIHRvIG15IGFjY291bnQgc2V0dGluZ3MnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgeW91X2FyZV9vZmZsaW5lOiB7XG4gICAgICAgICAgICBrZXk6ICd5b3VfYXJlX29mZmxpbmUnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91IGFyZSBvZmZsaW5lJyksXG4gICAgICAgICAgICBtZXNzYWdlOiA8TG9jYWxpemUgaTE4bl9kZWZhdWx0X3RleHQ9J0NoZWNrIHlvdXIgY29ubmVjdGlvbi4nIC8+LFxuICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIHBhc3N3b3JkX2NoYW5nZWQ6IHtcbiAgICAgICAgICAgIGtleTogJ3Bhc3N3b3JkX2NoYW5nZWQnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnUGFzc3dvcmQgdXBkYXRlZC4nKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IDxMb2NhbGl6ZSBpMThuX2RlZmF1bHRfdGV4dD0nUGxlYXNlIGxvZyBpbiB3aXRoIHlvdXIgdXBkYXRlZCBwYXNzd29yZC4nIC8+LFxuICAgICAgICAgICAgdHlwZTogJ2luZm8nLFxuICAgICAgICB9LFxuICAgICAgICByZXNldF92aXJ0dWFsX2JhbGFuY2U6IHtcbiAgICAgICAgICAgIGtleTogJ3Jlc2V0X3ZpcnR1YWxfYmFsYW5jZScsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdSZXNldCB5b3VyIGJhbGFuY2UnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNsaWVudC5tZXNzYWdlLFxuICAgICAgICAgICAgdHlwZTogJ2luZm8nLFxuICAgICAgICAgICAgaXNfcGVyc2lzdGVudDogdHJ1ZSxcbiAgICAgICAgICAgIHNob3VsZF9zaG93X2FnYWluOiB0cnVlLFxuICAgICAgICAgICAgcGxhdGZvcm06IFtwbGF0Zm9ybV9uYW1lLkRUcmFkZXJdLFxuICAgICAgICAgICAgaXNfZGlzcG9zYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdSZXNldCBiYWxhbmNlJyksXG4gICAgICAgICAgICAgICAgb25DbGljazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnQucmVzZXRWaXJ0dWFsQmFsYW5jZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBuZWVkc19wb2k6IHtcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMucHJvb2Zfb2ZfaWRlbnRpdHksXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1ZlcmlmeSBpZGVudGl0eScpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleTogJ25lZWRzX3BvaScsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdQbGVhc2UgdmVyaWZ5IHlvdXIgcHJvb2Ygb2YgaWRlbnRpdHknKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdUbyBjb250aW51ZSB0cmFkaW5nIHdpdGggdXMsIHBsZWFzZSBjb25maXJtIHdobyB5b3UgYXJlLicpLFxuICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIG5lZWRzX3BvYToge1xuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlcy5wcm9vZl9vZl9hZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdWZXJpZnkgYWRkcmVzcycpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleTogJ25lZWRzX3BvYScsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdQbGVhc2UgdmVyaWZ5IHlvdXIgcHJvb2Ygb2YgYWRkcmVzcycpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ1RvIGNvbnRpbnVlIHRyYWRpbmcgd2l0aCB1cywgcGxlYXNlIGNvbmZpcm0gd2hlcmUgeW91IGxpdmUuJyksXG4gICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgfSxcbiAgICAgICAgbmVlZHNfcG9pX3ZpcnR1YWw6IHtcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzd2l0Y2hBY2NvdW50LCBmaXJzdF9zd2l0Y2hhYmxlX3JlYWxfbG9naW5pZCB9ID0gY2xpZW50O1xuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHN3aXRjaEFjY291bnQoZmlyc3Rfc3dpdGNoYWJsZV9yZWFsX2xvZ2luaWQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1ZlcmlmeSBpZGVudGl0eScpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleTogJ25lZWRzX3BvaV92aXJ0dWFsJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1BsZWFzZSBWZXJpZnkgeW91ciBpZGVudGl0eScpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ1dlIGNvdWxkbuKAmXQgdmVyaWZ5IHlvdXIgcGVyc29uYWwgZGV0YWlscyB3aXRoIG91ciByZWNvcmRzLCB0byBlbmFibGUgZGVwb3NpdCwgd2l0aGRyYXdhbHMgYW5kIHRyYWRpbmcsIHlvdSBuZWVkIHRvIHVwbG9hZCBwcm9vZiBvZiB5b3VyIGlkZW50aXR5LidcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgfSxcbiAgICAgICAgbmVlZHNfcG9hX3ZpcnR1YWw6IHtcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMucHJvb2Zfb2ZfYWRkcmVzcyxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnVmVyaWZ5IGFkZHJlc3MnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXk6ICduZWVkc19wb2FfdmlydHVhbCcsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdQbGVhc2UgVmVyaWZ5IHlvdXIgYWRkcmVzcycpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ1dlIGNvdWxkbuKAmXQgdmVyaWZ5IHlvdXIgcGVyc29uYWwgZGV0YWlscyB3aXRoIG91ciByZWNvcmRzLCB0byBlbmFibGUgZGVwb3NpdCwgd2l0aGRyYXdhbHMgYW5kIHRyYWRpbmcsIHlvdSBuZWVkIHRvIHVwbG9hZCBwcm9vZiBvZiB5b3VyIGFkZHJlc3MuJ1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICB9LFxuICAgICAgICBkb2N1bWVudHNfZXhwaXJlZDoge1xuICAgICAgICAgICAga2V5OiAncG9pX2V4cGlyZWQnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91IHN1Ym1pdHRlZCBleHBpcmVkIGlkZW50aWZpY2F0aW9uIGRvY3VtZW50cycpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ1BsZWFzZSBzdWJtaXQgdmFsaWQgaWRlbnRpdHkgZG9jdW1lbnRzIHRvIHVubG9jayB0aGUgY2FzaGllci4nKSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMucHJvb2Zfb2ZfaWRlbnRpdHksXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1N1Ym1pdCBpZGVudGl0eSBkb2N1bWVudHMnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgfSxcbiAgICAgICAgbmV3X3ZlcnNpb25fYXZhaWxhYmxlOiB7XG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCksXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1JlZnJlc2ggbm93JyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5OiAnbmV3X3ZlcnNpb25fYXZhaWxhYmxlJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ0EgbmV3IHZlcnNpb24gb2YgRGVyaXYgaXMgYXZhaWxhYmxlJyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnVGhpcyBwYWdlIHdpbGwgYXV0b21hdGljYWxseSByZWZyZXNoIGluIDUgbWludXRlcyB0byBsb2FkIHRoZSBsYXRlc3QgdmVyc2lvbi4nKSxcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgICAgIHNob3VsZF9oaWRlX2Nsb3NlX2J0bjogdHJ1ZSxcbiAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAwMCxcbiAgICAgICAgICAgIHRpbWVvdXRNZXNzYWdlOiByZW1haW5pbmcgPT4gbG9jYWxpemUoJ0F1dG8gdXBkYXRlIGluIHt7IHJlbWFpbmluZyB9fSBzZWNvbmRzJywgeyByZW1haW5pbmcgfSksXG4gICAgICAgIH0sXG4gICAgICAgIGluc3RhbGxfcHdhOiB7XG4gICAgICAgICAgICBrZXk6ICdpbnN0YWxsX3B3YScsXG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB1aS5pbnN0YWxsV2l0aERlZmVycmVkUHJvbXB0KCksXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0luc3RhbGwnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdJbnN0YWxsIHRoZSBEVHJhZGVyIHdlYiBhcHAnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdMYXVuY2ggRFRyYWRlciBpbiBzZWNvbmRzIHRoZSBuZXh0IHRpbWUgeW91IHdhbnQgdG8gdHJhZGUuJyksXG4gICAgICAgICAgICB0eXBlOiAnYW5ub3VuY2UnLFxuICAgICAgICAgICAgc2hvdWxkX2hpZGVfY2xvc2VfYnRuOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgYXNrX3VrX2Z1bmRzX3Byb3RlY3Rpb246IHtcbiAgICAgICAgICAgIGtleTogJ2Fza191a19mdW5kc19wcm90ZWN0aW9uJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdXIgY2FzaGllciBpcyBsb2NrZWQnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdTZWUgaG93IHdlIHByb3RlY3QgeW91ciBmdW5kcyB0byB1bmxvY2sgdGhlIGNhc2hpZXIuJyksXG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLmNhc2hpZXJfZGVwb3NpdCxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnRmluZCBvdXQgbW9yZScpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgfSxcbiAgICAgICAgZGVyaXZfZ286IHtcbiAgICAgICAgICAgIGtleTogJ2Rlcml2X2dvJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IChcbiAgICAgICAgICAgICAgICA8TG9jYWxpemVcbiAgICAgICAgICAgICAgICAgICAgaTE4bl9kZWZhdWx0X3RleHQ9J0dldCBhIGZhc3RlciBtb2JpbGUgdHJhZGluZyBleHBlcmllbmNlIHdpdGggdGhlIDwwPkRlcml2IEdPPC8wPiBhcHAhJ1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzPXtbPFN0YXRpY1VybCBrZXk9ezB9IGNsYXNzTmFtZT0nbGluayBkYXJrJyBocmVmPScvbGFuZGluZy9kZXJpdi1nbycgLz5dfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY3RhX2J0bjoge1xuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdMZWFybiBtb3JlJyksXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihnZXRTdGF0aWNVcmwoJy9sYW5kaW5nL2Rlcml2LWdvJyksICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltZ19zcmM6IGdldFVybEJhc2UoJy9wdWJsaWMvaW1hZ2VzL2NvbW1vbi9kZXJpdmdvX2Jhbm5lci5wbmcnKSxcbiAgICAgICAgICAgIGltZ19hbHQ6ICdkZXJpdl9nbycsXG4gICAgICAgICAgICB0eXBlOiAncHJvbW90aW9ucycsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gbm90aWZpY2F0aW9ucztcbn07XG5cbmNvbnN0IGhhc01pc3NpbmdSZXF1aXJlZEZpZWxkID0gKGFjY291bnRfc2V0dGluZ3MsIGNsaWVudCwgaXNBY2NvdW50T2ZUeXBlKSA9PiB7XG4gICAgaWYgKCFhY2NvdW50X3NldHRpbmdzIHx8IGlzRW1wdHlPYmplY3QoYWNjb3VudF9zZXR0aW5ncykpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IHsgaXNfc3ZnLCBsYW5kaW5nX2NvbXBhbnlfc2hvcnRjb2RlIH0gPSBjbGllbnQ7XG5cbiAgICAvLyBUT0RPOiBbZGVyaXYtZXVdIHJlZmFjdG9yIGludG8gaXRzIG93biBmdW5jdGlvbiBvbmNlIG1vcmUgZXhjZXB0aW9ucyBhcmUgYWRkZWQuXG4gICAgbGV0IHJlcXVpcmVkX2ZpZWxkcztcbiAgICBpZiAoaXNfc3ZnKSB7XG4gICAgICAgIHJlcXVpcmVkX2ZpZWxkcyA9IGdldFNWR1JlcXVpcmVkRmllbGRzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVxdWlyZWRfZmllbGRzID0gZ2V0UmVxdWlyZWRGaWVsZHMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVxdWlyZWRfZmllbGRzLnNvbWUoZmllbGQgPT4gIWFjY291bnRfc2V0dGluZ3NbZmllbGRdKTtcblxuICAgIGZ1bmN0aW9uIGdldFNWR1JlcXVpcmVkRmllbGRzKCkge1xuICAgICAgICBjb25zdCBuZWNlc3Nhcnlfd2l0aGRyYXdhbF9maWVsZHMgPVxuICAgICAgICAgICAgU3RhdGUuZ2V0UmVzcG9uc2UoJ2xhbmRpbmdfY29tcGFueS5maW5hbmNpYWxfY29tcGFueS5yZXF1aXJlbWVudHMud2l0aGRyYXdhbCcpIHx8IFtdO1xuICAgICAgICBjb25zdCBuZWNlc3Nhcnlfc2lnbnVwX2ZpZWxkcyA9IFN0YXRlLmdldFJlc3BvbnNlKCdsYW5kaW5nX2NvbXBhbnkuZmluYW5jaWFsX2NvbXBhbnkucmVxdWlyZW1lbnRzLnNpZ251cCcpO1xuXG4gICAgICAgIGNvbnN0IG5lY2Vzc2FyeV9zaWdudXBfZmllbGRzX21hcHBlZCA9IG5lY2Vzc2FyeV9zaWdudXBfZmllbGRzXG4gICAgICAgICAgICA/IG5lY2Vzc2FyeV9zaWdudXBfZmllbGRzLm1hcChmaWVsZCA9PiAoZmllbGQgPT09ICdyZXNpZGVuY2UnID8gJ2NvdW50cnknIDogZmllbGQpKVxuICAgICAgICAgICAgOiBbXTtcblxuICAgICAgICByZXR1cm4gWy4uLm5lY2Vzc2FyeV93aXRoZHJhd2FsX2ZpZWxkcywgLi4ubmVjZXNzYXJ5X3NpZ251cF9maWVsZHNfbWFwcGVkXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRSZXF1aXJlZEZpZWxkcygpIHtcbiAgICAgICAgaWYgKCFpc0FjY291bnRPZlR5cGUoJ2ZpbmFuY2lhbCcpKSByZXR1cm4gW107XG5cbiAgICAgICAgY29uc3QgeyByZXNpZGVuY2UgfSA9IGNsaWVudDtcbiAgICAgICAgY29uc3QgcmVxdWlyZWRfc2V0dGluZ3NfZmllbGRzID0gW1xuICAgICAgICAgICAgJ2FjY291bnRfb3BlbmluZ19yZWFzb24nLFxuICAgICAgICAgICAgJ2FkZHJlc3NfbGluZV8xJyxcbiAgICAgICAgICAgICdhZGRyZXNzX2NpdHknLFxuICAgICAgICAgICAgJ3Bob25lJyxcbiAgICAgICAgICAgICd0YXhfaWRlbnRpZmljYXRpb25fbnVtYmVyJyxcbiAgICAgICAgICAgICd0YXhfcmVzaWRlbmNlJyxcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBhZGRyZXNzX3Bvc3Rjb2RlX2lzX3JlcXVpcmVkID0gcmVzaWRlbmNlID09PSAnZ2InIHx8IGxhbmRpbmdfY29tcGFueV9zaG9ydGNvZGUgPT09ICdpb20nO1xuICAgICAgICBpZiAoYWRkcmVzc19wb3N0Y29kZV9pc19yZXF1aXJlZCkgcmVxdWlyZWRfc2V0dGluZ3NfZmllbGRzLnB1c2goJ2FkZHJlc3NfcG9zdGNvZGUnKTtcblxuICAgICAgICByZXR1cm4gWy4uLnJlcXVpcmVkX3NldHRpbmdzX2ZpZWxkc107XG4gICAgfVxufTtcblxuY29uc3QgZ2V0U3RhdHVzVmFsaWRhdGlvbnMgPSBzdGF0dXNfYXJyID0+IHtcbiAgICByZXR1cm4gc3RhdHVzX2Fyci5yZWR1Y2UoKHZhbGlkYXRpb25zLCBzdGF0cykgPT4ge1xuICAgICAgICB2YWxpZGF0aW9uc1tzdGF0c10gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGlvbnM7XG4gICAgfSwge30pO1xufTtcblxuY29uc3QgZ2V0Q2FzaGllclZhbGlkYXRpb25zID0gY2FzaGllcl9hcnIgPT4ge1xuICAgIHJldHVybiBjYXNoaWVyX2Fyci5yZWR1Y2UoKHZhbGlkYXRpb25zLCBjb2RlKSA9PiB7XG4gICAgICAgIHZhbGlkYXRpb25zW2NvZGVdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25zO1xuICAgIH0sIHt9KTtcbn07XG5cbmNvbnN0IGFkZFZlcmlmaWNhdGlvbk5vdGlmaWNhdGlvbnMgPSAoaWRlbnRpdHksIGRvY3VtZW50LCBhZGROb3RpZmljYXRpb25NZXNzYWdlKSA9PiB7XG4gICAgaWYgKGlkZW50aXR5LnN0YXR1cyA9PT0gJ2V4cGlyZWQnKSBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5wb2lfZXhwaXJlZCk7XG5cbiAgICBpZiAoZG9jdW1lbnQuc3RhdHVzID09PSAnZXhwaXJlZCcpIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLnBvYV9leHBpcmVkKTtcbn07XG5cbmNvbnN0IGNoZWNrQWNjb3VudFN0YXR1cyA9IChcbiAgICBhY2NvdW50X3N0YXR1cyxcbiAgICBjbGllbnQsXG4gICAgYWRkTm90aWZpY2F0aW9uTWVzc2FnZSxcbiAgICBsb2dpbmlkLFxuICAgIGdldFJpc2tBc3Nlc3NtZW50LFxuICAgIGlzQWNjb3VudE9mVHlwZSxcbiAgICB1aV9zdG9yZSxcbiAgICBpc18xMGtfd2l0aGRyYXdhbF9saW1pdF9yZWFjaGVkXG4pID0+IHtcbiAgICBpZiAoaXNFbXB0eU9iamVjdChhY2NvdW50X3N0YXR1cykpIHJldHVybiB7fTtcbiAgICBpZiAobG9naW5pZCAhPT0gTG9jYWxTdG9yZS5nZXQoJ2FjdGl2ZV9sb2dpbmlkJykpIHJldHVybiB7fTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgYXV0aGVudGljYXRpb246IHsgZG9jdW1lbnQsIGlkZW50aXR5LCBuZWVkc192ZXJpZmljYXRpb24gfSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBjYXNoaWVyX3ZhbGlkYXRpb24sXG4gICAgfSA9IGFjY291bnRfc3RhdHVzO1xuXG4gICAgY29uc3QgeyBjYXNoaWVyX2xvY2tlZCwgd2l0aGRyYXdhbF9sb2NrZWQsIGRlcG9zaXRfbG9ja2VkLCBtdDVfd2l0aGRyYXdhbF9sb2NrZWQsIGRvY3VtZW50X25lZWRzX2FjdGlvbiB9ID1cbiAgICAgICAgZ2V0U3RhdHVzVmFsaWRhdGlvbnMoc3RhdHVzKTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgc3lzdGVtX21haW50ZW5hbmNlLFxuICAgICAgICBpc192aXJ0dWFsLFxuICAgICAgICBub19yZXNpZGVuY2UsXG4gICAgICAgIGRvY3VtZW50c19leHBpcmVkLFxuICAgICAgICB1bndlbGNvbWVfc3RhdHVzLFxuICAgICAgICBub193aXRoZHJhd2FsX29yX3RyYWRpbmdfc3RhdHVzLFxuICAgICAgICB3aXRoZHJhd2FsX2xvY2tlZF9zdGF0dXMsXG4gICAgICAgIGNhc2hpZXJfbG9ja2VkX3N0YXR1cyxcbiAgICAgICAgRmluYW5jaWFsQXNzZXNzbWVudFJlcXVpcmVkLFxuICAgICAgICBTZWxmRXhjbHVzaW9uLFxuICAgICAgICBBU0tfQ1VSUkVOQ1ksXG4gICAgICAgIEFTS19BVVRIRU5USUNBVEUsXG4gICAgICAgIEFTS19GSU5BTkNJQUxfUklTS19BUFBST1ZBTCxcbiAgICAgICAgQVNLX1RJTl9JTkZPUk1BVElPTixcbiAgICAgICAgQVNLX1NFTEZfRVhDTFVTSU9OX01BWF9UVVJOT1ZFUl9TRVQsXG4gICAgICAgIEFTS19GSVhfREVUQUlMUyxcbiAgICAgICAgQVNLX1VLX0ZVTkRTX1BST1RFQ1RJT04sXG4gICAgfSA9IGNhc2hpZXJfdmFsaWRhdGlvbiA/IGdldENhc2hpZXJWYWxpZGF0aW9ucyhjYXNoaWVyX3ZhbGlkYXRpb24pIDoge307XG5cbiAgICBhZGRWZXJpZmljYXRpb25Ob3RpZmljYXRpb25zKGlkZW50aXR5LCBkb2N1bWVudCwgYWRkTm90aWZpY2F0aW9uTWVzc2FnZSk7XG4gICAgY29uc3QgaGFzX3Jpc2tfYXNzZXNzbWVudCA9IGdldFJpc2tBc3Nlc3NtZW50KGFjY291bnRfc3RhdHVzKTtcbiAgICBjb25zdCBuZWVkc19wb2EgPVxuICAgICAgICBpc18xMGtfd2l0aGRyYXdhbF9saW1pdF9yZWFjaGVkICYmIChuZWVkc192ZXJpZmljYXRpb24uaW5jbHVkZXMoJ2RvY3VtZW50JykgfHwgZG9jdW1lbnQ/LnN0YXR1cyAhPT0gJ3ZlcmlmaWVkJyk7XG4gICAgY29uc3QgbmVlZHNfcG9pID0gaXNfMTBrX3dpdGhkcmF3YWxfbGltaXRfcmVhY2hlZCAmJiBpZGVudGl0eT8uc3RhdHVzICE9PSAndmVyaWZpZWQnO1xuXG4gICAgaWYgKG5lZWRzX3BvYSkgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkubmVlZHNfcG9hKTtcbiAgICBpZiAobmVlZHNfcG9pKSBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5uZWVkc19wb2kpO1xuICAgIGlmIChzeXN0ZW1fbWFpbnRlbmFuY2UpIHtcbiAgICAgICAgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKHt9LCBjbGllbnQpLnN5c3RlbV9tYWludGVuYW5jZSh3aXRoZHJhd2FsX2xvY2tlZCwgZGVwb3NpdF9sb2NrZWQpKTtcbiAgICB9IGVsc2UgaWYgKGNhc2hpZXJfbG9ja2VkKSB7XG4gICAgICAgIGlmIChpc192aXJ0dWFsKSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5pc192aXJ0dWFsKTtcbiAgICAgICAgfSBlbHNlIGlmIChub19yZXNpZGVuY2UpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLm5vX3Jlc2lkZW5jZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRzX2V4cGlyZWQpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLmRvY3VtZW50c19leHBpcmVkKTtcbiAgICAgICAgfSBlbHNlIGlmIChjYXNoaWVyX2xvY2tlZF9zdGF0dXMpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLmNhc2hpZXJfbG9ja2VkKTtcbiAgICAgICAgfSBlbHNlIGlmIChBU0tfQ1VSUkVOQ1kpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucyh1aV9zdG9yZSkuY3VycmVuY3kpO1xuICAgICAgICB9IGVsc2UgaWYgKEFTS19BVVRIRU5USUNBVEUpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLmF1dGhlbnRpY2F0ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBY2NvdW50T2ZUeXBlKCdmaW5hbmNpYWwnKSAmJiBBU0tfRklOQU5DSUFMX1JJU0tfQVBQUk9WQUwpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLmFza19maW5hbmNpYWxfcmlza19hcHByb3ZhbCk7XG4gICAgICAgIH0gZWxzZSBpZiAoRmluYW5jaWFsQXNzZXNzbWVudFJlcXVpcmVkKSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5yaXNrKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FjY291bnRPZlR5cGUoJ2ZpbmFuY2lhbCcpICYmIEFTS19USU5fSU5GT1JNQVRJT04pIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLnRheCk7XG4gICAgICAgIH0gZWxzZSBpZiAoQVNLX1VLX0ZVTkRTX1BST1RFQ1RJT04pIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLmFza191a19mdW5kc19wcm90ZWN0aW9uKTtcbiAgICAgICAgfSBlbHNlIGlmIChBU0tfU0VMRl9FWENMVVNJT05fTUFYX1RVUk5PVkVSX1NFVCkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkubWF4X3R1cm5vdmVyX2xpbWl0X25vdF9zZXQpO1xuICAgICAgICB9IGVsc2UgaWYgKEFTS19GSVhfREVUQUlMUykge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkucmVxdWlyZWRfZmllbGRzKHdpdGhkcmF3YWxfbG9ja2VkLCBkZXBvc2l0X2xvY2tlZCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkuY2FzaGllcl9sb2NrZWQpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHdpdGhkcmF3YWxfbG9ja2VkICYmIEFTS19BVVRIRU5USUNBVEUpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLndpdGhkcmF3YWxfbG9ja2VkX3Jldmlldyk7XG4gICAgICAgIH0gZWxzZSBpZiAod2l0aGRyYXdhbF9sb2NrZWQgJiYgbm9fd2l0aGRyYXdhbF9vcl90cmFkaW5nX3N0YXR1cykge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkubm9fd2l0aGRyYXdhbF9vcl90cmFkaW5nKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aXRoZHJhd2FsX2xvY2tlZCAmJiB3aXRoZHJhd2FsX2xvY2tlZF9zdGF0dXMpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLndpdGhkcmF3YWxfbG9ja2VkKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aXRoZHJhd2FsX2xvY2tlZCAmJiBBU0tfRklYX0RFVEFJTFMpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLnJlcXVpcmVkX2ZpZWxkcyh3aXRoZHJhd2FsX2xvY2tlZCwgZGVwb3NpdF9sb2NrZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVwb3NpdF9sb2NrZWQgJiYgU2VsZkV4Y2x1c2lvbikge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkuc2VsZl9leGNsdXNpb24oY2xpZW50LmV4Y2x1ZGVkX3VudGlsKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVwb3NpdF9sb2NrZWQgJiYgdW53ZWxjb21lX3N0YXR1cykge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkudW53ZWxjb21lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobXQ1X3dpdGhkcmF3YWxfbG9ja2VkKSBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5tdDVfd2l0aGRyYXdhbF9sb2NrZWQpO1xuICAgIGlmIChkb2N1bWVudF9uZWVkc19hY3Rpb24pIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLmRvY3VtZW50X25lZWRzX2FjdGlvbik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBoYXNfcmlza19hc3Nlc3NtZW50LFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgZXhjbHVkZWRfbm90aWZpY2F0aW9ucyA9IGlzTW9iaWxlKClcbiAgICA/IFsnY29udHJhY3Rfc29sZCddXG4gICAgOiBbXG4gICAgICAgICAgJ3lvdV9hcmVfb2ZmbGluZScsXG4gICAgICAgICAgJ3Bhc3N3b3JkX2NoYW5nZWQnLFxuICAgICAgICAgICdzd2l0Y2hfdG9fdGlja19jaGFydCcsXG4gICAgICAgICAgJ2NvbnRyYWN0X3NvbGQnLFxuICAgICAgICAgICdtYWludGVuYW5jZScsXG4gICAgICAgICAgJ2JvdF9zd2l0Y2hfYWNjb3VudCcsXG4gICAgICAgICAgJ25ld192ZXJzaW9uX2F2YWlsYWJsZScsXG4gICAgICBdO1xuXG5leHBvcnQgY29uc3QgaGFuZGxlQ2xpZW50Tm90aWZpY2F0aW9ucyA9IGFzeW5jIChjbGllbnQsIGNsaWVudF9zdG9yZSwgdWlfc3RvcmUsIGNhc2hpZXJfc3RvcmUsIGNvbW1vbl9zdG9yZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgYWNjb3VudF9zZXR0aW5ncyxcbiAgICAgICAgYWNjb3VudF9zdGF0dXMsXG4gICAgICAgIGdldFJpc2tBc3Nlc3NtZW50LFxuICAgICAgICBpc19ldSxcbiAgICAgICAgaXNfdWssXG4gICAgICAgIGhhc19tYWx0YV9hY2NvdW50LFxuICAgICAgICBjYW5faGF2ZV9tbHRfYWNjb3VudCxcbiAgICAgICAgaGFzX2lvbV9hY2NvdW50LFxuICAgICAgICBpc19sb2dnZWRfaW4sXG4gICAgICAgIGlzX3RuY19uZWVkZWQsXG4gICAgICAgIGlzQWNjb3VudE9mVHlwZSxcbiAgICAgICAgbG9naW5pZCxcbiAgICB9ID0gY2xpZW50X3N0b3JlO1xuICAgIGNvbnN0IHsgYWRkTm90aWZpY2F0aW9uTWVzc2FnZSwgcmVtb3ZlTm90aWZpY2F0aW9uTWVzc2FnZUJ5S2V5IH0gPSB1aV9zdG9yZTtcbiAgICBjb25zdCB7IGlzXzEwa193aXRoZHJhd2FsX2xpbWl0X3JlYWNoZWQsIGlzX3AycF92aXNpYmxlIH0gPSBjYXNoaWVyX3N0b3JlO1xuICAgIGNvbnN0IHsgY3VycmVudF9sYW5ndWFnZSwgc2VsZWN0ZWRfY29udHJhY3RfdHlwZSB9ID0gY29tbW9uX3N0b3JlO1xuICAgIGxldCBoYXNfbWlzc2luZ19yZXF1aXJlZF9maWVsZCwgaGFzX3Jpc2tfYXNzZXNzbWVudDtcblxuICAgIGNvbnN0IGhpZGRlbl9jbG9zZV9hY2NvdW50X25vdGlmaWNhdGlvbiA9XG4gICAgICAgIHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdoaWRlX2Nsb3NlX214X21sdF9hY2NvdW50X25vdGlmaWNhdGlvbicpKSA9PT0gMTtcbiAgICBjb25zdCB7IHdpdGhkcmF3YWxfbG9ja2VkLCBkZXBvc2l0X2xvY2tlZCB9ID0gZ2V0U3RhdHVzVmFsaWRhdGlvbnMoYWNjb3VudF9zdGF0dXMuc3RhdHVzIHx8IFtdKTtcblxuICAgIGlmIChsb2dpbmlkICE9PSBMb2NhbFN0b3JlLmdldCgnYWN0aXZlX2xvZ2luaWQnKSkgcmV0dXJuIHt9O1xuXG4gICAgaWYgKChoYXNfaW9tX2FjY291bnQgfHwgaGFzX21hbHRhX2FjY291bnQpICYmIGlzX2xvZ2dlZF9pbiAmJiAhaGlkZGVuX2Nsb3NlX2FjY291bnRfbm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoXG4gICAgICAgICAgICBjbGllbnROb3RpZmljYXRpb25zKHVpX3N0b3JlLCB7fSwgaXNfdWssIGhhc19tYWx0YV9hY2NvdW50LCBjYW5faGF2ZV9tbHRfYWNjb3VudCkuY2xvc2VfbXhfbWx0X2FjY291bnRcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoY2xpZW50ICYmICFjbGllbnQuaXNfdmlydHVhbCkge1xuICAgICAgICAoeyBoYXNfcmlza19hc3Nlc3NtZW50IH0gPSBjaGVja0FjY291bnRTdGF0dXMoXG4gICAgICAgICAgICBhY2NvdW50X3N0YXR1cyxcbiAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UsXG4gICAgICAgICAgICBsb2dpbmlkLFxuICAgICAgICAgICAgZ2V0Umlza0Fzc2Vzc21lbnQsXG4gICAgICAgICAgICBpc0FjY291bnRPZlR5cGUsXG4gICAgICAgICAgICB1aV9zdG9yZSxcbiAgICAgICAgICAgIGlzXzEwa193aXRoZHJhd2FsX2xpbWl0X3JlYWNoZWRcbiAgICAgICAgKSk7XG4gICAgICAgIGlmIChpc19wMnBfdmlzaWJsZSkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkuZHAycCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW1vdmVOb3RpZmljYXRpb25NZXNzYWdlQnlLZXkoeyBrZXk6IGNsaWVudE5vdGlmaWNhdGlvbnMoKS5kcDJwLmtleSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc190bmNfbmVlZGVkKSBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnModWlfc3RvcmUpLnRuYyk7XG5cbiAgICAgICAgaGFzX21pc3NpbmdfcmVxdWlyZWRfZmllbGQgPSBoYXNNaXNzaW5nUmVxdWlyZWRGaWVsZChhY2NvdW50X3NldHRpbmdzLCBjbGllbnQsIGlzQWNjb3VudE9mVHlwZSk7XG4gICAgICAgIGlmIChoYXNfbWlzc2luZ19yZXF1aXJlZF9maWVsZCkge1xuICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKHVpX3N0b3JlKS5yZXF1aXJlZF9maWVsZHMod2l0aGRyYXdhbF9sb2NrZWQsIGRlcG9zaXRfbG9ja2VkKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWlzX2V1ICYmIGlzTXVsdGlwbGllckNvbnRyYWN0KHNlbGVjdGVkX2NvbnRyYWN0X3R5cGUpICYmIGN1cnJlbnRfbGFuZ3VhZ2UgPT09ICdFTicgJiYgaXNfbG9nZ2VkX2luKSB7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLmRlcml2X2dvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVOb3RpZmljYXRpb25NZXNzYWdlQnlLZXkoeyBrZXk6IGNsaWVudE5vdGlmaWNhdGlvbnMoKS5kZXJpdl9nby5rZXkgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzX21pc3NpbmdfcmVxdWlyZWRfZmllbGQsXG4gICAgICAgIGhhc19yaXNrX2Fzc2Vzc21lbnQsXG4gICAgfTtcbn07XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJmb3JtYXREYXRlIiwiZ2V0U3RhdGljVXJsIiwiZ2V0VXJsQmFzZSIsImlzQ3J5cHRvY3VycmVuY3kiLCJpc0VtcHR5T2JqZWN0IiwiaXNNb2JpbGUiLCJpc011bHRpcGxpZXJDb250cmFjdCIsIkxvY2FsU3RvcmUiLCJwbGF0Zm9ybV9uYW1lIiwicm91dGVzIiwiU3RhdGUiLCJTdGF0aWNVcmwiLCJsb2NhbGl6ZSIsIkxvY2FsaXplIiwiQmluYXJ5TGluayIsIldTIiwiY2xpZW50Tm90aWZpY2F0aW9ucyIsInVpIiwiY2xpZW50IiwiaXNfdWsiLCJoYXNfbWFsdGFfYWNjb3VudCIsImNhbl9oYXZlX21sdF9hY2NvdW50IiwiTXhNbHROb3RpZmljYXRpb25IZWFkZXIiLCJNeE1sdE5vdGlmaWNhdGlvblRleHQiLCJub3RpZmljYXRpb25zIiwiZHAycCIsImtleSIsImhlYWRlciIsIm1lc3NhZ2UiLCJwcmltYXJ5X2J0biIsInRleHQiLCJvbkNsaWNrIiwid2luZG93Iiwib3BlbiIsImltZ19zcmMiLCJpbWdfYWx0IiwidHlwZSIsImNsb3NlX214X21sdF9hY2NvdW50Iiwic2Vjb25kYXJ5X2J0biIsInNob3dDbG9zZU14TWx0QWNjb3VudFBvcHVwIiwiaXNfdmlydHVhbCIsIm5vX3Jlc2lkZW5jZSIsImFjdGlvbiIsInJvdXRlIiwicGVyc29uYWxfZGV0YWlscyIsImN1cnJlbmN5Iiwib3BlblJlYWxBY2NvdW50U2lnbnVwIiwic2VsZl9leGNsdXNpb24iLCJleGNsdWRlZF91bnRpbCIsImV4Y2x1c2lvbl9lbmQiLCJpbnRlcnBvbGF0aW9uIiwiZXNjYXBlVmFsdWUiLCJMQ19BUEkiLCJvcGVuX2NoYXRfd2luZG93IiwiY2FzaGllcl9sb2NrZWQiLCJzeXN0ZW1fbWFpbnRlbmFuY2UiLCJ3aXRoZHJhd2FsX2xvY2tlZCIsImRlcG9zaXRfbG9ja2VkIiwiYXV0aGVudGljYXRlIiwicHJvb2Zfb2ZfaWRlbnRpdHkiLCJ3aXRoZHJhd2FsX2xvY2tlZF9yZXZpZXciLCJub193aXRoZHJhd2FsX29yX3RyYWRpbmciLCJtdDVfd2l0aGRyYXdhbF9sb2NrZWQiLCJhc2tfZmluYW5jaWFsX3Jpc2tfYXBwcm92YWwiLCJmaW5hbmNpYWxfYXNzZXNzbWVudCIsImRvY3VtZW50X25lZWRzX2FjdGlvbiIsInVud2VsY29tZSIsIm1heF90dXJub3Zlcl9saW1pdF9ub3Rfc2V0IiwicmlzayIsInRheCIsInRuYyIsInRuY0FwcHJvdmFsIiwiZ2V0U2V0dGluZ3MiLCJyZXF1aXJlZF9maWVsZHMiLCJ5b3VfYXJlX29mZmxpbmUiLCJwYXNzd29yZF9jaGFuZ2VkIiwicmVzZXRfdmlydHVhbF9iYWxhbmNlIiwiaXNfcGVyc2lzdGVudCIsInNob3VsZF9zaG93X2FnYWluIiwicGxhdGZvcm0iLCJEVHJhZGVyIiwiaXNfZGlzcG9zYWJsZSIsInJlc2V0VmlydHVhbEJhbGFuY2UiLCJuZWVkc19wb2kiLCJuZWVkc19wb2EiLCJwcm9vZl9vZl9hZGRyZXNzIiwibmVlZHNfcG9pX3ZpcnR1YWwiLCJzd2l0Y2hBY2NvdW50IiwiZmlyc3Rfc3dpdGNoYWJsZV9yZWFsX2xvZ2luaWQiLCJuZWVkc19wb2FfdmlydHVhbCIsImRvY3VtZW50c19leHBpcmVkIiwibmV3X3ZlcnNpb25fYXZhaWxhYmxlIiwibG9jYXRpb24iLCJyZWxvYWQiLCJzaG91bGRfaGlkZV9jbG9zZV9idG4iLCJ0aW1lb3V0IiwidGltZW91dE1lc3NhZ2UiLCJyZW1haW5pbmciLCJpbnN0YWxsX3B3YSIsImluc3RhbGxXaXRoRGVmZXJyZWRQcm9tcHQiLCJhc2tfdWtfZnVuZHNfcHJvdGVjdGlvbiIsImNhc2hpZXJfZGVwb3NpdCIsImRlcml2X2dvIiwiY3RhX2J0biIsImhhc01pc3NpbmdSZXF1aXJlZEZpZWxkIiwiYWNjb3VudF9zZXR0aW5ncyIsImlzQWNjb3VudE9mVHlwZSIsImlzX3N2ZyIsImxhbmRpbmdfY29tcGFueV9zaG9ydGNvZGUiLCJnZXRTVkdSZXF1aXJlZEZpZWxkcyIsImdldFJlcXVpcmVkRmllbGRzIiwic29tZSIsImZpZWxkIiwibmVjZXNzYXJ5X3dpdGhkcmF3YWxfZmllbGRzIiwiZ2V0UmVzcG9uc2UiLCJuZWNlc3Nhcnlfc2lnbnVwX2ZpZWxkcyIsIm5lY2Vzc2FyeV9zaWdudXBfZmllbGRzX21hcHBlZCIsIm1hcCIsInJlc2lkZW5jZSIsInJlcXVpcmVkX3NldHRpbmdzX2ZpZWxkcyIsImFkZHJlc3NfcG9zdGNvZGVfaXNfcmVxdWlyZWQiLCJwdXNoIiwiZ2V0U3RhdHVzVmFsaWRhdGlvbnMiLCJzdGF0dXNfYXJyIiwicmVkdWNlIiwidmFsaWRhdGlvbnMiLCJzdGF0cyIsImdldENhc2hpZXJWYWxpZGF0aW9ucyIsImNhc2hpZXJfYXJyIiwiY29kZSIsImFkZFZlcmlmaWNhdGlvbk5vdGlmaWNhdGlvbnMiLCJpZGVudGl0eSIsImRvY3VtZW50IiwiYWRkTm90aWZpY2F0aW9uTWVzc2FnZSIsInN0YXR1cyIsInBvaV9leHBpcmVkIiwicG9hX2V4cGlyZWQiLCJjaGVja0FjY291bnRTdGF0dXMiLCJhY2NvdW50X3N0YXR1cyIsImxvZ2luaWQiLCJnZXRSaXNrQXNzZXNzbWVudCIsInVpX3N0b3JlIiwiaXNfMTBrX3dpdGhkcmF3YWxfbGltaXRfcmVhY2hlZCIsImdldCIsImF1dGhlbnRpY2F0aW9uIiwibmVlZHNfdmVyaWZpY2F0aW9uIiwiY2FzaGllcl92YWxpZGF0aW9uIiwidW53ZWxjb21lX3N0YXR1cyIsIm5vX3dpdGhkcmF3YWxfb3JfdHJhZGluZ19zdGF0dXMiLCJ3aXRoZHJhd2FsX2xvY2tlZF9zdGF0dXMiLCJjYXNoaWVyX2xvY2tlZF9zdGF0dXMiLCJGaW5hbmNpYWxBc3Nlc3NtZW50UmVxdWlyZWQiLCJTZWxmRXhjbHVzaW9uIiwiQVNLX0NVUlJFTkNZIiwiQVNLX0FVVEhFTlRJQ0FURSIsIkFTS19GSU5BTkNJQUxfUklTS19BUFBST1ZBTCIsIkFTS19USU5fSU5GT1JNQVRJT04iLCJBU0tfU0VMRl9FWENMVVNJT05fTUFYX1RVUk5PVkVSX1NFVCIsIkFTS19GSVhfREVUQUlMUyIsIkFTS19VS19GVU5EU19QUk9URUNUSU9OIiwiaGFzX3Jpc2tfYXNzZXNzbWVudCIsImluY2x1ZGVzIiwiZXhjbHVkZWRfbm90aWZpY2F0aW9ucyIsImhhbmRsZUNsaWVudE5vdGlmaWNhdGlvbnMiLCJjbGllbnRfc3RvcmUiLCJjYXNoaWVyX3N0b3JlIiwiY29tbW9uX3N0b3JlIiwiaXNfZXUiLCJoYXNfaW9tX2FjY291bnQiLCJpc19sb2dnZWRfaW4iLCJpc190bmNfbmVlZGVkIiwicmVtb3ZlTm90aWZpY2F0aW9uTWVzc2FnZUJ5S2V5IiwiaXNfcDJwX3Zpc2libGUiLCJjdXJyZW50X2xhbmd1YWdlIiwic2VsZWN0ZWRfY29udHJhY3RfdHlwZSIsImhpZGRlbl9jbG9zZV9hY2NvdW50X25vdGlmaWNhdGlvbiIsInBhcnNlSW50IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImhhc19taXNzaW5nX3JlcXVpcmVkX2ZpZWxkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Stores/Helpers/client-notifications.js\n");

/***/ }),

/***/ "./Stores/Helpers/client.js":
/*!**********************************!*\
  !*** ./Stores/Helpers/client.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getClientAccountType\": () => (/* binding */ getClientAccountType),\n/* harmony export */   \"getAccountTitle\": () => (/* binding */ getAccountTitle),\n/* harmony export */   \"getLandingCompanyValue\": () => (/* binding */ getLandingCompanyValue)\n/* harmony export */ });\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n\n\nvar getClientAccountType = function getClientAccountType(loginid) {\n  var account_type;\n  if (/^VR/.test(loginid)) account_type = 'virtual';else if (/^MF/.test(loginid)) account_type = 'financial';else if (/^MLT|MX/.test(loginid)) account_type = 'gaming';\n  return account_type;\n};\n\nvar TypesMapConfig = function () {\n  var types_map_config;\n\n  var initTypesMap = function initTypesMap() {\n    return {\n      \"default\": (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Real'),\n      financial: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Investment'),\n      gaming: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Gaming'),\n      virtual: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Virtual')\n    };\n  };\n\n  return {\n    get: function get() {\n      if (!types_map_config) {\n        types_map_config = initTypesMap();\n      }\n\n      return types_map_config;\n    }\n  };\n}();\n\nvar getAccountTitle = function getAccountTitle(loginid) {\n  var types_map = TypesMapConfig.get();\n  return types_map[getClientAccountType(loginid)] || types_map[\"default\"];\n};\nvar getLandingCompanyValue = function getLandingCompanyValue(_ref) {\n  var loginid = _ref.loginid,\n      landing_company = _ref.landing_company,\n      isAccountOfType = _ref.isAccountOfType;\n  var key = 'changeable_fields';\n  var landing_company_object;\n\n  if (loginid.financial || isAccountOfType('financial')) {\n    landing_company_object = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(landing_company, 'financial_company');\n  } else if (loginid.real || isAccountOfType('real')) {\n    landing_company_object = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(landing_company, 'gaming_company'); // handle accounts that don't have gaming company\n\n    if (!landing_company_object) {\n      landing_company_object = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(landing_company, 'financial_company');\n    }\n  } else {\n    var financial_company = ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(landing_company, 'financial_company') || {})[key] || [];\n    var gaming_company = ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(landing_company, 'gaming_company') || {})[key] || [];\n    landing_company_object = financial_company.concat(gaming_company);\n    return landing_company_object;\n  }\n\n  return (landing_company_object || {})[key];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvSGVscGVycy9jbGllbnQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBTkE7QUFRQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1N0b3Jlcy9IZWxwZXJzL2NsaWVudC5qcz9mZjc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgeyBnZXRQcm9wZXJ0eVZhbHVlIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5cbmV4cG9ydCBjb25zdCBnZXRDbGllbnRBY2NvdW50VHlwZSA9IGxvZ2luaWQgPT4ge1xuICAgIGxldCBhY2NvdW50X3R5cGU7XG4gICAgaWYgKC9eVlIvLnRlc3QobG9naW5pZCkpIGFjY291bnRfdHlwZSA9ICd2aXJ0dWFsJztcbiAgICBlbHNlIGlmICgvXk1GLy50ZXN0KGxvZ2luaWQpKSBhY2NvdW50X3R5cGUgPSAnZmluYW5jaWFsJztcbiAgICBlbHNlIGlmICgvXk1MVHxNWC8udGVzdChsb2dpbmlkKSkgYWNjb3VudF90eXBlID0gJ2dhbWluZyc7XG4gICAgcmV0dXJuIGFjY291bnRfdHlwZTtcbn07XG5cbmNvbnN0IFR5cGVzTWFwQ29uZmlnID0gKCgpID0+IHtcbiAgICBsZXQgdHlwZXNfbWFwX2NvbmZpZztcblxuICAgIGNvbnN0IGluaXRUeXBlc01hcCA9ICgpID0+ICh7XG4gICAgICAgIGRlZmF1bHQ6IGxvY2FsaXplKCdSZWFsJyksXG4gICAgICAgIGZpbmFuY2lhbDogbG9jYWxpemUoJ0ludmVzdG1lbnQnKSxcbiAgICAgICAgZ2FtaW5nOiBsb2NhbGl6ZSgnR2FtaW5nJyksXG4gICAgICAgIHZpcnR1YWw6IGxvY2FsaXplKCdWaXJ0dWFsJyksXG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdHlwZXNfbWFwX2NvbmZpZykge1xuICAgICAgICAgICAgICAgIHR5cGVzX21hcF9jb25maWcgPSBpbml0VHlwZXNNYXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0eXBlc19tYXBfY29uZmlnO1xuICAgICAgICB9LFxuICAgIH07XG59KSgpO1xuXG5leHBvcnQgY29uc3QgZ2V0QWNjb3VudFRpdGxlID0gbG9naW5pZCA9PiB7XG4gICAgY29uc3QgdHlwZXNfbWFwID0gVHlwZXNNYXBDb25maWcuZ2V0KCk7XG4gICAgcmV0dXJuIHR5cGVzX21hcFtnZXRDbGllbnRBY2NvdW50VHlwZShsb2dpbmlkKV0gfHwgdHlwZXNfbWFwLmRlZmF1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TGFuZGluZ0NvbXBhbnlWYWx1ZSA9ICh7IGxvZ2luaWQsIGxhbmRpbmdfY29tcGFueSwgaXNBY2NvdW50T2ZUeXBlIH0pID0+IHtcbiAgICBjb25zdCBrZXkgPSAnY2hhbmdlYWJsZV9maWVsZHMnO1xuICAgIGxldCBsYW5kaW5nX2NvbXBhbnlfb2JqZWN0O1xuXG4gICAgaWYgKGxvZ2luaWQuZmluYW5jaWFsIHx8IGlzQWNjb3VudE9mVHlwZSgnZmluYW5jaWFsJykpIHtcbiAgICAgICAgbGFuZGluZ19jb21wYW55X29iamVjdCA9IGdldFByb3BlcnR5VmFsdWUobGFuZGluZ19jb21wYW55LCAnZmluYW5jaWFsX2NvbXBhbnknKTtcbiAgICB9IGVsc2UgaWYgKGxvZ2luaWQucmVhbCB8fCBpc0FjY291bnRPZlR5cGUoJ3JlYWwnKSkge1xuICAgICAgICBsYW5kaW5nX2NvbXBhbnlfb2JqZWN0ID0gZ2V0UHJvcGVydHlWYWx1ZShsYW5kaW5nX2NvbXBhbnksICdnYW1pbmdfY29tcGFueScpO1xuXG4gICAgICAgIC8vIGhhbmRsZSBhY2NvdW50cyB0aGF0IGRvbid0IGhhdmUgZ2FtaW5nIGNvbXBhbnlcbiAgICAgICAgaWYgKCFsYW5kaW5nX2NvbXBhbnlfb2JqZWN0KSB7XG4gICAgICAgICAgICBsYW5kaW5nX2NvbXBhbnlfb2JqZWN0ID0gZ2V0UHJvcGVydHlWYWx1ZShsYW5kaW5nX2NvbXBhbnksICdmaW5hbmNpYWxfY29tcGFueScpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZmluYW5jaWFsX2NvbXBhbnkgPSAoZ2V0UHJvcGVydHlWYWx1ZShsYW5kaW5nX2NvbXBhbnksICdmaW5hbmNpYWxfY29tcGFueScpIHx8IHt9KVtrZXldIHx8IFtdO1xuICAgICAgICBjb25zdCBnYW1pbmdfY29tcGFueSA9IChnZXRQcm9wZXJ0eVZhbHVlKGxhbmRpbmdfY29tcGFueSwgJ2dhbWluZ19jb21wYW55JykgfHwge30pW2tleV0gfHwgW107XG4gICAgICAgIGxhbmRpbmdfY29tcGFueV9vYmplY3QgPSBmaW5hbmNpYWxfY29tcGFueS5jb25jYXQoZ2FtaW5nX2NvbXBhbnkpO1xuICAgICAgICByZXR1cm4gbGFuZGluZ19jb21wYW55X29iamVjdDtcbiAgICB9XG4gICAgcmV0dXJuIChsYW5kaW5nX2NvbXBhbnlfb2JqZWN0IHx8IHt9KVtrZXldO1xufTtcbiJdLCJuYW1lcyI6WyJsb2NhbGl6ZSIsImdldFByb3BlcnR5VmFsdWUiLCJnZXRDbGllbnRBY2NvdW50VHlwZSIsImxvZ2luaWQiLCJhY2NvdW50X3R5cGUiLCJ0ZXN0IiwiVHlwZXNNYXBDb25maWciLCJ0eXBlc19tYXBfY29uZmlnIiwiaW5pdFR5cGVzTWFwIiwiZmluYW5jaWFsIiwiZ2FtaW5nIiwidmlydHVhbCIsImdldCIsImdldEFjY291bnRUaXRsZSIsInR5cGVzX21hcCIsImdldExhbmRpbmdDb21wYW55VmFsdWUiLCJsYW5kaW5nX2NvbXBhbnkiLCJpc0FjY291bnRPZlR5cGUiLCJrZXkiLCJsYW5kaW5nX2NvbXBhbnlfb2JqZWN0IiwicmVhbCIsImZpbmFuY2lhbF9jb21wYW55IiwiZ2FtaW5nX2NvbXBhbnkiLCJjb25jYXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Stores/Helpers/client.js\n");

/***/ }),

/***/ "./Stores/Helpers/device.js":
/*!**********************************!*\
  !*** ./Stores/Helpers/device.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getCookieObject\": () => (/* binding */ getCookieObject),\n/* harmony export */   \"setDeviceDataCookie\": () => (/* binding */ setDeviceDataCookie)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n\nvar getCookieObject = function getCookieObject(cookie_name) {\n  var cookie_object = new _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.CookieStorage(cookie_name.includes('utm') ? 'utm_data' : cookie_name);\n  return cookie_object;\n};\nvar setDeviceDataCookie = function setDeviceDataCookie(cookie_name, cookie_value) {\n  var cookie_object = getCookieObject(cookie_name);\n\n  if (!cookie_object.get(cookie_name)) {\n    cookie_object.set(cookie_name, cookie_value);\n  }\n\n  return cookie_object;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvSGVscGVycy9kZXZpY2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TdG9yZXMvSGVscGVycy9kZXZpY2UuanM/Y2I2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb29raWVTdG9yYWdlIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5cbmV4cG9ydCBjb25zdCBnZXRDb29raWVPYmplY3QgPSBjb29raWVfbmFtZSA9PiB7XG4gICAgY29uc3QgY29va2llX29iamVjdCA9IG5ldyBDb29raWVTdG9yYWdlKGNvb2tpZV9uYW1lLmluY2x1ZGVzKCd1dG0nKSA/ICd1dG1fZGF0YScgOiBjb29raWVfbmFtZSk7XG4gICAgcmV0dXJuIGNvb2tpZV9vYmplY3Q7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0RGV2aWNlRGF0YUNvb2tpZSA9IChjb29raWVfbmFtZSwgY29va2llX3ZhbHVlKSA9PiB7XG4gICAgY29uc3QgY29va2llX29iamVjdCA9IGdldENvb2tpZU9iamVjdChjb29raWVfbmFtZSk7XG5cbiAgICBpZiAoIWNvb2tpZV9vYmplY3QuZ2V0KGNvb2tpZV9uYW1lKSkge1xuICAgICAgICBjb29raWVfb2JqZWN0LnNldChjb29raWVfbmFtZSwgY29va2llX3ZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29va2llX29iamVjdDtcbn07XG4iXSwibmFtZXMiOlsiQ29va2llU3RvcmFnZSIsImdldENvb2tpZU9iamVjdCIsImNvb2tpZV9uYW1lIiwiY29va2llX29iamVjdCIsImluY2x1ZGVzIiwic2V0RGV2aWNlRGF0YUNvb2tpZSIsImNvb2tpZV92YWx1ZSIsImdldCIsInNldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Stores/Helpers/device.js\n");

/***/ }),

/***/ "./Stores/Modules/Trading/Helpers/currency.js":
/*!****************************************************!*\
  !*** ./Stores/Modules/Trading/Helpers/currency.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildCurrenciesList\": () => (/* binding */ buildCurrenciesList),\n/* harmony export */   \"getDefaultCurrency\": () => (/* binding */ getDefaultCurrency)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar buildCurrenciesList = function buildCurrenciesList(payout_currencies) {\n  var _ref;\n\n  var fiat = [];\n  var crypto = [];\n  payout_currencies.forEach(function (cur) {\n    var isCrypto = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isCryptocurrency)(cur);\n    (isCrypto ? crypto : fiat).push({\n      text: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getCurrencyDisplayCode)(cur),\n      value: cur,\n      has_tooltip: isCrypto\n    });\n  });\n  return _ref = {}, _defineProperty(_ref, (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Fiat'), fiat), _defineProperty(_ref, (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Crypto'), crypto), _ref;\n};\nvar getDefaultCurrency = function getDefaultCurrency(currencies_list) {\n  var currency = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var supported_currencies = Object.values(currencies_list).reduce(function (a, b) {\n    return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n  });\n  var default_currency = supported_currencies.find(function (c) {\n    return c.value === currency;\n  }) ? currency : supported_currencies[0].value;\n  return {\n    currency: default_currency\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvTW9kdWxlcy9UcmFkaW5nL0hlbHBlcnMvY3VycmVuY3kuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFEQTtBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vU3RvcmVzL01vZHVsZXMvVHJhZGluZy9IZWxwZXJzL2N1cnJlbmN5LmpzPzM3ZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNDcnlwdG9jdXJyZW5jeSwgZ2V0Q3VycmVuY3lEaXNwbGF5Q29kZSB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tICdAZGVyaXYvdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IGNvbnN0IGJ1aWxkQ3VycmVuY2llc0xpc3QgPSBwYXlvdXRfY3VycmVuY2llcyA9PiB7XG4gICAgY29uc3QgZmlhdCA9IFtdO1xuICAgIGNvbnN0IGNyeXB0byA9IFtdO1xuXG4gICAgcGF5b3V0X2N1cnJlbmNpZXMuZm9yRWFjaChjdXIgPT4ge1xuICAgICAgICBjb25zdCBpc0NyeXB0byA9IGlzQ3J5cHRvY3VycmVuY3koY3VyKTtcbiAgICAgICAgKGlzQ3J5cHRvID8gY3J5cHRvIDogZmlhdCkucHVzaCh7IHRleHQ6IGdldEN1cnJlbmN5RGlzcGxheUNvZGUoY3VyKSwgdmFsdWU6IGN1ciwgaGFzX3Rvb2x0aXA6IGlzQ3J5cHRvIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgW2xvY2FsaXplKCdGaWF0JyldOiBmaWF0LFxuICAgICAgICBbbG9jYWxpemUoJ0NyeXB0bycpXTogY3J5cHRvLFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdEN1cnJlbmN5ID0gKGN1cnJlbmNpZXNfbGlzdCwgY3VycmVuY3kgPSAnJykgPT4ge1xuICAgIGNvbnN0IHN1cHBvcnRlZF9jdXJyZW5jaWVzID0gT2JqZWN0LnZhbHVlcyhjdXJyZW5jaWVzX2xpc3QpLnJlZHVjZSgoYSwgYikgPT4gWy4uLmEsIC4uLmJdKTtcbiAgICBjb25zdCBkZWZhdWx0X2N1cnJlbmN5ID0gc3VwcG9ydGVkX2N1cnJlbmNpZXMuZmluZChjID0+IGMudmFsdWUgPT09IGN1cnJlbmN5KVxuICAgICAgICA/IGN1cnJlbmN5XG4gICAgICAgIDogc3VwcG9ydGVkX2N1cnJlbmNpZXNbMF0udmFsdWU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjdXJyZW5jeTogZGVmYXVsdF9jdXJyZW5jeSxcbiAgICB9O1xufTtcbiJdLCJuYW1lcyI6WyJpc0NyeXB0b2N1cnJlbmN5IiwiZ2V0Q3VycmVuY3lEaXNwbGF5Q29kZSIsImxvY2FsaXplIiwiYnVpbGRDdXJyZW5jaWVzTGlzdCIsInBheW91dF9jdXJyZW5jaWVzIiwiZmlhdCIsImNyeXB0byIsImZvckVhY2giLCJjdXIiLCJpc0NyeXB0byIsInB1c2giLCJ0ZXh0IiwidmFsdWUiLCJoYXNfdG9vbHRpcCIsImdldERlZmF1bHRDdXJyZW5jeSIsImN1cnJlbmNpZXNfbGlzdCIsImN1cnJlbmN5Iiwic3VwcG9ydGVkX2N1cnJlbmNpZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJhIiwiYiIsImRlZmF1bHRfY3VycmVuY3kiLCJmaW5kIiwiYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Stores/Modules/Trading/Helpers/currency.js\n");

/***/ }),

/***/ "./Stores/Modules/index.js":
/*!*********************************!*\
  !*** ./Stores/Modules/index.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ModulesStore)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ModulesStore = /*#__PURE__*/function () {\n  function ModulesStore(root_store) {\n    _classCallCheck(this, ModulesStore);\n\n    this.root_store = root_store;\n  }\n\n  _createClass(ModulesStore, [{\n    key: \"attachModule\",\n    value: function attachModule(name, module) {\n      this[name] = module;\n    }\n  }, {\n    key: \"detachModule\",\n    value: function detachModule(name) {\n      this[name] = {};\n    }\n  }]);\n\n  return ModulesStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvTW9kdWxlcy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBOztBQUNBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1N0b3Jlcy9Nb2R1bGVzL2luZGV4LmpzPzFmMDAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kdWxlc1N0b3JlIHtcbiAgICBjb25zdHJ1Y3Rvcihyb290X3N0b3JlKSB7XG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG4gICAgfVxuXG4gICAgYXR0YWNoTW9kdWxlKG5hbWUsIG1vZHVsZSkge1xuICAgICAgICB0aGlzW25hbWVdID0gbW9kdWxlO1xuICAgIH1cblxuICAgIGRldGFjaE1vZHVsZShuYW1lKSB7XG4gICAgICAgIHRoaXNbbmFtZV0gPSB7fTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiTW9kdWxlc1N0b3JlIiwicm9vdF9zdG9yZSIsIm5hbWUiLCJtb2R1bGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Stores/Modules/index.js\n");

/***/ })

}]);